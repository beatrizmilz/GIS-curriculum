[["intro.html", "Introdução ao QGis Capitulo 1 Intro 1.1 Introdução suave a conceitos de GIS", " Introdução ao QGis Ben Hur Pintor, Ketty Adoch, Codrina Maria Ilie Capitulo 1 Intro 1.1 Introdução suave a conceitos de GIS Autor: Ben Hur 1.1.1 Introdução pedagógica Este módulo serve como uma introdução suave aos conceitos geográficos necessários para trabalhar com sistemas de informação geográfica (SIG, ou GIS em língua inglesa). Ao final deste módulo, os alunos deverão compreender os seguintes conceitos: projeções cartográficas sistemas de referência de coordenadas formatos de dados espaciais (exemplo: vetores e rasters) componentes e funções de um SIG usos de um SIG exemplos de uso de GIS e outras aplicações geoespaciais Além disso, este módulo irá também introduzir alguns conceitos chave de softwares livres e de código aberto (Free and Open Source Software, ou FOSS) e softwares livres e de código aberto para aplicações geoespaciais (FOSS4G). 1.1.2 Ferramentas e recursos necessários As ferramentas e recursos necessários para este módulo são: computador conexão de internet 1.1.3 Pré-requisitos conhecimento básico de uso de computadores 1.1.4 Recursos adicionais A Gentle Introduction to GIS - https://docs.qgis.org/3.16/en/docs/gentle_gis_introduction/index.html QGIS User Guide - https://docs.qgis.org/3.16/en/docs/user_manual/ QGIS Training Manual - https://docs.qgis.org/3.16/en/docs/training_manual/index.html QGIS website - https://qgis.org/en/site/ OSGeo website - https://www.osgeo.org/ OSGeoLive website - https://live.osgeo.org/en/index.html What is free software? - https://www.gnu.org/philosophy/free-sw.en.html Open source definition - https://opensource.org/osd 1.1.5 Introdução temática Vamos começar com um exemplo: Você pode ter ouvido a frase todos os mapas mentem, ou você viu uma postagem nas redes sociais afirmando que O mapa mundi que você conheceu a vida inteira está errado! Bem, não é que os mapas estejam deliberadamente querendo mentir para você, mas a realidade é que os mapas não têm como te mostrar toda a verdade. Um exemplo disso são os tamanhos relativos dos países. The True Size Of (O verdadeiro tamanho de) (https://thetruesize.com/) é um mapa online (ou aplicativo web) interessante que mostra como os tamanhos relativos dos países são distorcidos em um dos mapas mais comuns que usamos (o mapa que usa a projeção de Mercator). Ele também mostra alguns exemplos de tipos de dados espaciais sobre os quais aprenderemos mais neste módulo. Tente usar esse site para comparar o tamanho do seu país com o de outros. True Size Of 1.1.5.1 Detalhando os conceitos Então por que isso acontece? Como você aprenderá neste módulo, é difícil representar a forma tridimensional da Terra em uma folha de papel plana. Para fazer isso, os cartógrafos usam o que é chamado de projeção cartográfica, para projetar os pontos da superfície tridimensional da Terra em uma superfície plana. No entanto, ao fazer isso, eles introduzem alguma distorção. Essa distorção pode ser de forma, tamanho, direção e distâncias dos objetos representados no mapa. Todos os mapas têm pelo menos uma dessas distorções. Por causa dessa distorção, um mapa nunca pode mostrar toda a verdade sobre a Terra. No mapa online que usamos, o mapa de fundo que não muda de tamanho (em cinza) é um exemplo de dados raster. Os dados raster são representações do mundo baseadas em pixels, semelhantes a como fotografias funcionam. Enquanto isso, a forma dos países que podemos mover são exemplos de dados vetor, ou vetoriais. Os dados vetoriais, ao contrário dos rasters, representam o mundo usando objetos discretos (no sentido matemático da palavra), como pontos, linhas e polígonos. 1.1.6 Conteúdo principal 1.1.6.1 Título da Fase 1: Mapas e Coordenadas 1.1.6.1.1 Conteúdo / Tutorial Quando as pessoas pensam na Terra atualmente, elas geralmente imaginam uma massa esférica azul, verde, branca e marrom flutuando no espaço. É por isso que tradicionalmente usamos globos para representar a Terra. Figura 1. A Bola de Gude Azul ( https://commons.wikimedia.org/wiki/Earth#/media/File:The_Blue_Marble.jpg) Figura 2. Globo de lIsle (1765) ( https://commons.wikimedia.org/wiki/Globe#/media/File:3quarter_globe.jpg) No entanto, embora o globo seja capaz de capturar a maioria das características da Terra, ele possui duas desvantagens principais: Os globos são pesados e difíceis de transportar. Os globos só podem ser usados em pequenas escalas (por exemplo, encontrar locais de países, as posições relativas de cidades, etc.). Eles são praticamente inúteis para atividades que exigem grandes escalas ou detalhes finos (por exemplo, navegação dentro de uma cidade). É aqui que entram os mapas. Os mapas corrigem essas duas desvantagens dos globos, representando a Terra como uma superfície plana. Ao fazer isso, os mapas se tornam portáteis e adequados para uma infinidade de usos. Dito isso, os mapas também apresentam uma desvantagem própria. Através do processo de conversão de um objeto tridimensional (globo) em um bidimensional (mapa), distorções são geradas, de tal forma que é impossível para um mapa capturar perfeitamente as diferentes características da Terra (ou seja, formas, áreas e direções). 1.1.6.1.1.1 Projeções cartográficas Uma projeção cartográfica é usada para achatar a superfície da Terra (ou de um globo qualquer) em um plano, a fim de criar um mapa. Este processo de transformação gera distorção. A terra como uma laranja Pense na Terra como uma laranja. Se você descascá-la, poderá deixá-la plana, mas nunca poderá torná-la perfeitamente plana. Você sempre encontrará um dos seguintes problemas: Alongamento - o alongamento da casca (ou superfície) em uma ou mais direções Rasgos - a divisão ou ruptura da casca (ou superfície) Compressão - o encurtamento ou encolhimento da casca (ou superfície) Por causa desses problemas, cada mapa contém distorção em uma ou mais das seguintes características: Forma Área Distância Direção As projeções cartográficas podem preservar (sem distorção) uma ou mais dessas características, mas nunca todas ao mesmo tempo. Outra opção é balancear e minimizar as distorções para todas as características ao mesmo tempo. Isso se deve à natureza das próprias características. Características principais como Forma e Área são mutuamente excludentes e não podem ser preservadas simultaneamente. Enquanto isso, as características secundárias Distância e Direção não têm como estar corretas em todos os lugares do mapa. Ao escolher qual projeção cartográfica usar, é importante que você considere o propósito do mapa. Por exemplo, se deseja realizar análises baseadas em área, é melhor usar uma projeção cartográfica que preserva a área. Existem várias classificações de projeções cartográficas. A primeira é baseada nas características que elas preservam. Projeções de mapa conforme ou ortomórficas são aquelas que preservam a forma ou a conformidade angular. Estes são comumente usados para fins de navegação ou meteorológicos. As formas são preservadas, mas as áreas são distorcidas. Quanto maior a área, maior a distorção. Projeções de mapa de equivalente ou de igual área são aquelas que preservam a proporção ou áreas relativas dos objetos no mapa. Nesse tipo de projeção cartográfica, quanto maior a área mapeada, mais precisa ela será. As projeções cartográficas equidistantes preservam a distância das linhas que originam em um ou dois pontos no mapa ou têm escala adequada ao longo de uma ou mais linhas. As projeções cartográficas azimutais preservam a direção a partir de um ou dois pontos no mapa. São úteis para mapear rotas de aeronaves e embarcações marítimas entre portos. Uma única projeção cartográfica pode preservar mais de uma característica (por exemplo, uma projeção azimutal equidistante que preserva a direção e as distâncias a partir de um ou dois pontos no mapa), mas nem todas delas, como mostrado na tabela abaixo. Conforme Equivalente Equidistante Azimutal Conforme Não Não Sim Equivalente Não Não Sim Equidistante Não Não Sim Azimutal Sim Sim Sim Tabela: Ambas características podem ser preservadas por um mapa ao mesmo tempo? Existe outra classificação de projeções cartográficas que não preserva nenhuma das características do mapa, mas tenta minimizar todas as distorções no mapa. Estes são chamados de projeções Erro Mínimo (Minimum Error, ou Compromise) (mapas que não preservam a forma nem a área são chamados de Afiláticos). Uma maneira de visualizar a distorção é usando o que é chamado de indicador de Tissot. Este indicador caracteriza as distorções locais usando círculos e mostrando como esses círculos são transformados ao longo do mapa. Projeção conforme Figura 3. Projeção conforme com seu índice de Tissot. Os círculos permanecem como círculos por todo o mapa, mas suas áreas aumentam a medida que os círculos se movem do equador em direção aos pólos. Projeção equivalente Figura 4. Projeção equivalente com seu índice de Tissot. Os círculos tornam-se elipses, mas suas áreas permanecem as mesmas. Projeção equidistante Figura 5. Projeção equidistante com seu índice de Tissot. Observe que as alturas dos círculos são iguais, o que significa que a escala / distâncias ao longo dos meridianos são preservadas. Projeção azimutal equidistante Figura 6. Projeção azimutal equidistante com seu índice de Tissot. Observe que os círculos estão todos apontando para o centro do mapa e as alturas dos círculos são todas iguais. Outra maneira de classificar as projeções do mapa é pela superfície desenvolvível (developable surface) usada para criar o mapa. Uma superfície é desenvolvível se ela puder ser planificada sem introduzir distorções. As superfícies mais comumente usadas são: Cilindros (Figura 7), Cones (Figura 8) e Planos (Figura 9). Cilindro como uma superfície desenvolvível Figura 7. As projeções cilíndricas têm meridianos (longitude) e paralelos (latitude) encontrando-se em ângulos retos com as distâncias entre os meridianos sendo iguais. Cone como superfície desenvolvível Figura 8. As projeções cônicas têm meridianos retos indo para um ponto nos pólos. Os paralelos são arcos. Plano como superfície desenvolvível Figura 9. As projeções planas (comumente usadas em projeções azimutais) têm meridianos retos semelhantes às projeções cônicas, mas seus paralelos são círculos em vez de arcos. Existem inúmeras outras superfícies desenvolvíveis que podem ser usadas para transformar um globo em um mapa. Eles podem ser uma variação das superfícies comuns, como no caso de projeções pseudo-cilíndricas e pseudo-cônicas ou podem ser superfícies únicas e diferentes, como no mapa Dymaxion, que usa um icosaedro (poliedro com 20 faces), ou a Projeção de Cahill-Keyes que usa um octaedro (poliedro com 8 faces). A projeção de um mapa também pode ser classificada de acordo com seu aspecto (Figura 10) ou o modo como a superfície desenvolvível está posicionada no globo: Normal, Transversal ou Oblíqua. Aspectos de uma projeção cartográfica Figura 10. Aspectos de uma projeção cartográfica 1.1.6.1.1.2 Sistemas de referência de coordenadas Um Sistema de Referência de Coordenadas (SRC, ou CRS na sigla em inglês) é usado para especificar a localização de um objeto na superfície da Terra por meio do uso de coordenadas. SRCs podem ser classificados em dois: Sistemas de referência de coordenadas geográficas usam graus de latitude e longitude como coordenadas para se referir à posição. Sistemas de referência de coordenadas projetadas usam unidades lineares (por exemplo, metros, pés, quilômetros) de leste e norte como coordenadas. O conhecimento dos sistemas de referência de coordenadas é importante porque mesmo que dois mapas (ou camadas) mostrem o mesmo local, as coordenadas das localizações nesses mapas serão diferentes se os SRC que eles usam forem diferentes. Veja este exemplo: Mapa A e Mapa B mostram a mesma área e extensão. Eles são basicamente o mesmo mapa. A única diferença é o sistema de referência de coordenadas que eles usam. O Mapa A usa SRC X e o Mapa B usa SRC Y. Digamos que obtivemos a coordenada do Ponto 1, que é (10, 10), do Mapa A. Se olharmos para a coordenada (10,10) no Mapa B, é possível que o Ponto 1 não esteja lá, pois o Mapa B usa um SRC diferente. Ou, se você sobrepor os mapas um ao outro usando uma referência comum, os objetos dos dois mapas não coincidirão. Este conhecimento de sistemas de referência de coordenadas é importante para qualquer tipo de GIS. As versões do QGIS anteriores à versão 3 tinham a opção de ativar o que é chamado de OTF ou Transformação On-The-Fly (em tempo real). Isso permitia que camadas com diferentes SRC fossem projetadas na tela do mapa como se estivessem no mesmo SRC. Com o QGIS 3 em diante, esta opção é ativada automaticamente como comportamento padrão do QGIS. QGIS também executa esta ação automaticamente para tarefas de processamento. Isso é muito importante porque se as camadas não estiverem no mesmo SRC, os resultados das consultas espaciais e do processamento como junções espaciais, clipes, etc. podem ser comprometidos. Você pode notar que alguns Sistemas de Referência de Coordenadas são referidos por seu Código EPSG. Este código se refere ao código do SRC no conjunto de dados de parâmetros geodésicos EPSG, que é um registro de dados geodésicos, sistemas de referência espacial, elipsóides terrestres, transformações de coordenadas e unidades de medida relacionadas. A maioria dos GIS, incluindo QGIS, referem-se ao código EPSG para identificar sistemas de referência de coordenadas, projeções e realizar transformações entre esses sistemas. Alguns códigos EPSG comuns incluem: EPSG: 4326 - WGS 84, sistema de coordenadas de latitude / longitude baseado no Sistema de Posicionamento Global (GPS) entre outros. EPSG: 3857 - Projeção Web Mercator usada para exibição por muitas ferramentas de mapeamento baseadas na web, como OpenStreetMap e Google Maps EPSG: 31973 a EPSG: 31974 e EPSG: 31978 a EPSG: 31985 - Universal Transverse Mercator (UTM) Zonas 19N a 20N, e 18S a 25S. Zonas UTM usadas no Brasil EPSG: 4674 - Sistema de Referência SIRGAS 2000, utilizado nas Américas a partir do ano 2000 1.1.6.1.2 Quiz Que tipo de projeção é melhor para os seguintes casos? um mapa de uso geral que precisa ter uma aparência agradável um mapa mostrando uma análise de área por unidade entre diferentes locais um mapa que mostra uma comparação de uma zona de 10 km de raio de diferentes locais Que tipo de sistema de referência de coordenadas (geográfico ou projetado) é melhor utilizado para os seguintes casos? mostrar a localização de pontos usando GPS calcular a distância entre dois pontos Verdadeiro ou falso - É possível preservar as seguintes características do mapa juntas em um único mapa: Área e forma Distância e direção 1.1.6.2 Título da fase 2: Tipos de dados espaciais 1.1.6.2.1 Conteúdo / Tutorial Em sua essência, um Sistema de Informação Geográfica (SIG) deve ser capaz de modelar objetos, informações e fenômenos do mundo real, como limites de lotes, rios, estradas, temperatura, etc. Ele faz isso por meio de modelos de dados espaciais. Os modelos de dados espaciais são compostos de dois componentes principais que, quando combinados, modelam a realidade. Esses componentes são: Feições espaciais (ou geometria) Atributos Modelo de dados espaciais Existem dois modelos principais de dados espaciais: raster e vetorial. Embora qualquer objeto do mundo real possa ser representado por qualquer um dos dois modelos de dados, um deles é geralmente melhor para representar certos objetos do mundo real do que o outro. 1.1.6.2.1.1 Dados raster Os dados raster são mais utilizados para representar fenômenos contínuos, como elevação ou temperatura. Um raster é uma representação de objetos do mundo real composta de linhas e colunas de células ou pixels, no qual cada célula ou pixel representa uma área geográfica (pense em uma fotografia ou imagem). O valor da célula representa o valor de um atributo na referida área geográfica. O tamanho da área depende da resolução espacial do raster. Rasters são bastante úteis para modelagem de adequação de locais (suitability modelling), pois você pode combinar rasters por meio de operações matemáticas (álgebra de raster). Modelo de dados raster Figura 12. Um raster consiste em pixels de tamanhos iguais em linhas e colunas. Um pixel raster pode conter apenas um valor de cada vez. Assim, um raster pode modelar apenas um objeto ou fenômeno por vez. 1.1.6.2.1.2 Dados vetoriais Os dados vetoriais são mais utilizados para representar objetos discretos. Os dados vetoriais possuem três formas: ponto, linha e polígono. São mais preciso que rasters porque pontos, linhas e polígonos são modelados usando coordenadas bem definidas, tornando-os melhores na representação de objetos discretos do que rasters. Os vetores são comumente usados quando necessitamos precisão com comprimentos, áreas e distâncias. Eles também são úteis ao realizar análises de rede (por exemplo, encontrar o caminho mais curto um ponto a outro em uma rede de vias). Modelo de dados vetoriais Figura 13. Um vetor consiste em feições com seus atributos correspondentes. Comparado aos pixels raster, uma feição vetorial pode conter mais de um valor por vez. Esses valores são armazenados como colunas na tabela de atributos. Cada feição é armazenada como uma linha. 1.1.6.2.2 Quiz Qual tipo de dado pode representar melhor os seguintes objetos / fenômenos: estradas casas densidade populacional perigo de inundação 1.1.6.3 Título da Fase 3: Sistema de Informação Geográfica (SIG) 1.1.6.3.1 Conteúdo / Tutorial As informações geográficas e de localização tornaram-se onipresentes no século 21 em todos os níveis de granularidade. Temos satélites, aeronaves e até drones comerciais que são capazes de capturar grandes quantidades de dados brutos em grandes áreas por longos períodos de tempo. Existem também sensores que coletam e reúnem informações de localização, como o GPS e outros aplicativos em nossos telefones e dispositivos. Com todos esses dados à nossa disposição, é fundamental saber gerenciá-los, analisá-los e apresentá-los. É aqui que entram os Sistemas de Informação Geográfica, ou mais comumente conhecidos como SIG, ou GIS. SIG é uma ferramenta / framework / sistema que nos permite trabalhar com informação geográfica (ou espacial) e sua correspondente informação de atributo (não espacial). Em particular, um GIS deve ser capaz de: Coletar, armazenar, editar, manipular, ou em termos mais gerais, gerenciar dados espaciais. Analizar os dados usando seu componente espacial (onde os dados estão) ou atributo (o valor dos dados). Apresentar os dados e análises como informações significativas por meio de mapas, gráficos, plotagens e outras visualizações. SIG não é apenas mapeamento. Embora a elaboração de mapas seja um dos aspectos mais importantes e comumente conhecidos do SIG, ela ainda é apenas uma parte de seus muitos recursos. Podemos ver a estrutura SIG moderna como sendo composta por: Dados - referem-se às informações utilizadas pelo SIG que podem ou não conter informações de localização (por exemplo, nomes de lojas, localizações de lojas). Tecnologia - inclui os componentes de hardware e software de um SIG - as máquinas, instrumentos e computadores com os aplicativos de software usados para fazer o trabalho geoespacial. Métodos e análises - referem-se à ciência e matemática em SIG, que permitem realizar consultas e cálculos espaciais e não espaciais (de atributos). Visualização - embora semelhante aos métodos e análises, a visualização pode ser considerada como um componente separado, pois se refere especificamente aos meios pelos quais um SIG representa os dados graficamente. Isso inclui não apenas mapas, embora seja o caso mais comum, mas também tabelas, gráficos, etc. Pessoas - são as pessoas e / ou grupos de pessoas que estão envolvidas no uso, desenvolvimento, ensino e manutenção de SIG. Todas as partes da estrutura SIG moderna - dos dados às pessoas - são essenciais para garantir seu sucesso. 1.1.6.3.2 Perguntas do questionário Verdadeiro ou falso: Um SIG só pode ser usado com dados geoespaciais. Um mapa é sempre o resultado ao se usar um SIG. Aprender SIG é difícil e caro. 1.1.6.4 Título da Fase 4 (adicional): Software Livre e de Código Aberto para uso Geoespacial (FOSS4G) 1.1.6.4.1 Conteúdo / Tutorial QGIS é apenas um exemplo de software livre e de código aberto para uso geoespacial (FOSS4G). Outros exemplos de FOSS4G são GRASS, PostGIS, GeoServer, GeoNode, etc. Esses aplicativos FOSS4G são ótimas ferramentas para trabalhar não só porque são confiáveis, mas também porque, sendo gratuitos e de código aberto, têm uma barreira de entrada menor e são altamente personalizáveis para qualquer necessidade. Você pode encontrar uma variedade de softwares geoespaciais gratuitos e de código aberto para cada necessidade e para cada parte do stack geoespacial. Stack de aplicativos de software livre e de código aberto para geoespaciais (FOSS4G) Figura 14. Uma amostra de stack geoespacial de código aberto (ou FOSS4G) (de Simon Nitz (https://twitter.com/si_nitz?lang=en)) 1.1.6.4.1.1 Software grátis Livre como em liberdade e não apenas grátis. Software livre é o software que adere às Quatro Liberdades Essenciais do Software Livre, que são: A liberdade de executar o programa como desejar, para qualquer propósito (liberdade 0). A liberdade de estudar como o programa funciona e alterá-lo para que ele faça o que você deseja (liberdade 1). O acesso ao código-fonte é uma pré-condição para isso. A liberdade de redistribuir cópias para que você possa ajudar outras pessoas (liberdade 2). A liberdade de distribuir cópias de suas versões modificadas para outros (liberdade 3). Ao fazer isso, você pode dar a toda a comunidade a chance de se beneficiar com suas mudanças. O acesso ao código-fonte é uma pré-condição para isso. 1.1.6.4.1.2 Código aberto Softwares de código aberto são aqueles que possuem licenças que permitem uso sem precisar pagar royalties e que permitem a reutilização do software, juntamente com acesso livre ao código-fonte. Por convenção, essas licenças de código aberto são aquelas que estão em conformidade com a definição de código aberto prevista pela Open Source Initiative. O código-fonte aberto não só garante acesso gratuito ao software e código-fonte, mas também a capacidade de redistribuir o software sem custos adicionais. Por causa da natureza aberta do software de código aberto, ele também é um ótimo modelo de desenvolvimento de software, no qual todos são livres para atualizar, melhorar, modificar e compartilhar suas modificações com a comunidade. 1.1.6.4.1.3 OSGeo Existem muitos softwares geoespaciais de código aberto e, às vezes, a parte mais difícil é saber onde e como começar a trabalhar com esses softwares. Felizmente, a Open Source Geospatial Foundation (OSGeo) (https://www.osgeo.org/) existe para ajudar a promover a adoção global de tecnologia geoespacial aberta e apoiar o desenvolvimento dessas tecnologias. 1.1.6.4.2 Perguntas do questionário N/D 1.1.6.5 Se você quiser ir mais longe Se você quiser testar usar aplicativos FOSS4G facilmente, experimente o OSGeoLive (https://live.osgeo.org/en/index.html) que é uma distribuição Linux (sistema operacional) que vem pré-instalado com QGIS, GRASS e outros aplicativos FOSS4G. 1.1.6.6 Para praticar suas novas habilidades, tente N/D 1.1.6.7 Dicas N/D "],["introdução-ao-qgis.html", "Capitulo 2 Introdução ao QGIS 2.1 Introdução Pedagógica 2.2 Ferramentas e recursos necessários 2.3 Pré-requisitos 2.4 Recursos adicionais 2.5 Introdução temática 2.6 Detalhamento dos conceitos 2.7 Conteúdo principal", " Capitulo 2 Introdução ao QGIS Autor: Ben Hur 2.1 Introdução Pedagógica Este módulo serve como uma introdução ao QGIS. No final deste módulo, os alunos devem estar familiarizados com: O que é o QGIS Interface do QGIS Configurações do QGIS Complementos do QGIS Eles também devem aprender: Como instalar e abrir o QGIS As diferentes partes e recursos da interface do QGIS Como editar o layout e o tema da interface As diferentes configurações do QGIS, como alterá-las e como elas afetam o QGIS O que são perfis de usuário e como usá-los O que são complementos e como instalá-los O módulo também irá discutir algumas nuances do QGIS e o que o torna único ou diferente de outros softwares GIS, como formatos de arquivo QGIS. 2.2 Ferramentas e recursos necessários As ferramentas e recursos necessários para este módulo são: Computador Conexão de internet QGIS 3.16 instalado no computador (https://qgis.org/en/site/forusers/download.html) 2.3 Pré-requisitos Conhecimento básico de informática 2.4 Recursos adicionais Manual do usuário QGIS - https://docs.qgis.org/3.16/en/docs/user_manual/ Manual de treinamento QGIS - https://docs.qgis.org/3.16/en/docs/training_manual/index.html 2.5 Introdução temática O mapa abaixo (https://flic.kr/p/2jFfGJP), de Andrés Felipe Lancheros Sánchez, mostra partes da cidade de Bogotá na Colômbia feitas no estilo da pintura Noite estrelada de Vincent van Gogh. Mapa de Bogotá, Colômbia no estilo Noite Estrelada Este próximo mapa (https://flic.kr/p/2jAsphv) mostra dados de rastreamento de tempestade da NOAA (o órgão de metereologia do governo dos EUA) entre 1851 e 2020 feitos por Fajr Alim. Dados de rastreamento de tempestade entre 1851 a 2020 Este próximo (https://flic.kr/p/FA9TiR) é um mapa da Ilha Kerguelen, feito por Heinrich Lingnau Schneider. Mapa da Ilha Kerguelen Este último (https://flic.kr/p/2kqVzsg) é de tentativas de arremessos de quadra e pontos marcados por tentativa durante a temporada 81 do Torneio de Basquete Masculino UAAP em as Filipinas por Ben Hur Pintor. Tentativas de arremessos de quadra e pontos marcados na temporada 81 do UAAP O que todos esses mapas têm em comum? Todos eles foram feitos usando o QGIS. 2.6 Detalhamento dos conceitos Os mapas mostrados acima foram todos criados no QGIS (https://qgis.org/en/site/), um Sistema de Informação Geográfica (SIG, ou GIS) gratuito e de código aberto. O QGIS pode ser usado com todos os tipos de dados espaciais (como dados de basquete no último exemplo) e não apenas com dados geoespaciais relacionados à Terra. As pessoas são capazes de criar mapas maravilhosos e surpreendentes, como os exemplos acima, porque o QGIS é gratuito, de código aberto e possui recursos poderosos de gerenciamento de dados, análise e apresentação. 2.7 Conteúdo principal 2.7.1 Título da fase 1: Introdução ao QGIS e à interface do QGIS 2.7.1.1 O que é o QGIS QGIS, conhecido como Quantum GIS antes de seu lançamento 2.X, é um Sistema de Informação Geoespacial (GIS) maduro, multiplataforma, gratuito e de código aberto. É um GIS de nível enterprise que possui recursos para coletar, armazenar, analisar, apresentar e gerenciar dados espaciais e não espaciais. Ele também se integra bem com outras tecnologias geoespaciais existentes e serve como parte integrante de qualquer pilha (stack) FOSS4G (Software Livre e de Código Aberto para Geoespacial). Por ser multiplataforma, o QGIS pode ser executado em GNU / Linux, macOS, Windows e até mesmo Android. 2.7.1.2 Ciclo de lançamento e versões Os lançamentos e o desenvolvimento do QGIS seguem um cronograma / roteiro baseado no tempo (https://www.qgis.org/en/site/getinvolved/development/roadmap.html). Uma versão do QGIS é especificada por três números (X.Y.Z). Por exemplo, QGIS 3.16.4. X refere-se à versão principal. Neste caso, QGIS 3. Y refere-se à versão de lançamento. Neste caso, a versão 16. As versões de lançamento são sempre números pares, pois os números ímpares são reservados para versões de desenvolvimento. Z refere-se ao Point Release (PR) dessa versão. Para 3.16.4, isso significa que é o quarto ponto de lançamento da versão 3.16. Existem três ramificações (ou branches) principais do QGIS que os usuários podem instalar. Estas são a ramificação Long Term Release (LTR), a ramificação Latest Release (LR) e a ramificação Development (Nightly). Long Term Release (LTR) tem esse nome porque é mantido e recebe correções de bug até o próximo LTR ser lançado. Atualmente, isso significa um (1) ano. Em fevereiro de 2021, o LTR atual é 3.16.4. Está programado para ser substituído pelo QGIS 3.22.4 em fevereiro de 2022. Última versão (LR) refere-se a versão de lançamento do QGIS que contém os recursos mais recentes ou mais recentes. Um novo LR é lançado a cada quatro (4) meses. Por exemplo, um novo LR 3,18 foi lançado em fevereiro de 2021. O próximo LR (3.20) será lançado 4 meses a partir de agora, ou seja, em junho de 2021. Atualmente, cada terceiro LR se torna o próximo LTR. Por exemplo, o LTR de fevereiro de 2021 é a versão 3.16. O terceiro LR de 3.16 é 3.22, portanto, o próximo LTR será baseado na versão de lançamento 3.22. Development / Nightly é baseado na versão mais recente do código-fonte QGIS, mas é útil se você deseja testar, depurar ou ajudar no desenvolvimento do QGIS. Então, qual versão você deve usar? Depende. Se você precisa de uma versão que é mantida por mais tempo e não precisa necessariamente de novos recursos à medida que são lançados, a versão LTR pode ser a versão para você. Se você precisa dos recursos mais recentes e não se importa em fazer uma atualização a cada poucos meses, a versão LR pode ser ideal para você. Às vezes, também é bom dar uma olhada nas versões de desenvolvimento ou noturnas, especialmente se você estiver curioso ou animado com os próximos recursos do QGIS. Para obter mais informações, visite: https://bnhr.xyz/2020/10/26/about-qgis-versions-release-cycle-english.html 2.7.1.3 Exemplos de mapas QGIS QGIS Map Showcase Figura 1.1. Demonstração do mapa QGIS Para mais mapas criados com o QGIS, visite: https://www.flickr.com/groups/2244553@N22/pool/with/50355460063/ 2.7.1.4 Instalando o QGIS QGIS é multiplataforma e funciona em Linux, Windows e macOS. Sendo de código aberto, você pode construir e instalar o QGIS a partir de seu código-fonte, disponível em https://github.com/qgis/QGIS/. Instaladores e instruções de instalação também estão disponíveis em https://qgis.org/en/site/forusers/download.html ou https: //qgis.org/en/site/forusers/alldownloads.html. Para Linux (ou GNU / Linux), o QGIS geralmente está disponível no gerenciador de pacotes de sua distribuição. Para usuários Debian / Ubuntu, o QGIS tem repositórios para os ramos LR, LTR e Desenvolvimento (Development), bem como versões do QGIS com dependências do PPA ubuntugis-unstable. O QGIS também está disponível como pacote Flatpak ou no Conda. Para Windows, os usuários podem escolher entre o instalador de rede OSGeo4W ou os instaladores independentes. Há um instalador independente para a versão LTR e LR. Os instaladores autônomos são os mais fáceis de instalar e são recomendados para iniciantes. Várias versões do QGIS podem ser instaladas em seu computador ao mesmo tempo. Isso significa que você pode ter ambas as versões QGIS 3.16 e 3.18 instaladas. O OSGeo4W Network Installer é um pouco mais avançado e complexo do que os instaladores autônomos, mas também oferece a capacidade de atualizar e atualizar sua versão do QGIS no local, o que significa que você não precisará desinstalar uma versão mais antiga se quiser instalar um mais novo. Em alguns casos, você precisará de direitos de administrador para instalar o QGIS, portanto, se estiver instalando em um computador onde o seu usuário não possui direitos de administrador, pode ser necessário pedir ao seu administrador de TI ou escritório para instalar o QGIS para você. A instalação no Windows também vem com QGIS com GRASS (outro GIS Livre e de Código Aberto). Observe que o QGIS está removendo lentamente o suporte de 32 bits para Windows, então é melhor para instalar o QGIS em um computador que executa um sistema operacional de 64 bits. Para o macOS, existem instaladores oficiais All-in-one assinados para macOS High Sierra (10.13) e mais recentes. O QGIS ainda não foi autenticado conforme exigido pelas regras de segurança do macOS Catalina (10.15). Na primeira inicialização, clique com o botão direito no ícone do aplicativo QGIS, segure a tecla Option e escolha Abrir. 2.7.1.5 Partes da interface do QGIS Depois de instalar o QGIS, você pode executá-lo ou abri-lo como faria com qualquer programa em seu computador. Ao abrir o QGIS, você será saudado com a Interface do Usuário (IU, ou UI em inglês) padrão que se parecerá com a abaixo. A interface QGIS Figura 1.2. A interface QGIS em uma nova instalação Existem seis partes principais da interface de usuário do QGIS - barra de menu, tela do mapa, barra de ferramentas, painéis, barra de status e localizador. No centro da interface está uma tela de mapa. Painéis e barras de ferramentas podem ser posicionados em torno dessa tela. Os painéis também podem ser acoplados para criar um painel com várias abas. Existem também outras partes da interface, como a interface Python, janelas de complemento, etc. Barra de menus - a barra de menus é um menu hierárquico simples que fornece acesso às funções e comandos do QGIS. Geralmente está localizado na parte superior da interface. Tela do mapa - a tela do mapa é onde as camadas carregadas no QGIS são mostradas. Este é também o local onde os filtros, seleções, e simbologias criadas pelo usuário são refletidas. Mais de uma tela de mapa pode estar presente a qualquer momento. Um usuário pode aplicar zoom, panorâmica e até mesmo girar a tela do mapa. Uma tela de mapa também pode mostrar dados 3D. Barras de ferramentas - as barras de ferramentas mostram botões de acesso fácil aos comandos, recursos, complementos do QGIS. Eles podem ser movidos e encaixados na tela do mapa. A lista de barras de ferramentas pode ser encontrada, ativada e desativada na barra de menus em Exibir  Barras de ferramentas. Exemplos de barras de ferramentas são a barra de ferramentas de atributos e a barra de ferramentas de digitalização. Painéis - os painéis são semelhantes às barras de ferramentas, mas, em vez de botões, fornecem uma interface para funções e recursos mais complexos. O painel de camadas e o painel do navegador são dois exemplos. Semelhante às barras de ferramentas, eles podem ser movidos e encaixados na tela do mapa. A lista de painéis pode ser encontrada, ativada e desativada na barra de menus em Exibir  Painéis. Barra de status - a barra de status é comumente encontrada na parte inferior da interface e mostra informações relevantes, como CRS, escala, notificações, etc. Barra Localizadora - a barra Localizadora é encontrada no canto inferior esquerdo da interface do QGIS. Ele permite que o usuário acesse facilmente camadas, campos, algoritmos de processamento e outras funcionalidades no QGIS. Este é um dos recursos mais poderosos do QGIS. Partes da interface QGIS Figura 1.3. Partes da interface QGIS Uma das belezas do QGIS é a personalização ele que oferece aos seus usuários. Essa personalização começa com a interface do usuário. Ao editar algumas configurações e mover algumas partes da interface, você pode ter um QGIS semelhante a este abaixo: Interface QGIS com algumas personalizações Figura 1.4. A interface QGIS com algumas personalizações 2.7.1.6 Tutorial / Exercício 1: Mudando a aparência e layout da interface QGIS Abra o QGIS Clique no menu Visão Abra o QGIS e clique no menu Exibir Observe o menu Painéis Observe o menu Painéis Observe o menu Barras de ferramentas Observe o menu Barras de ferramentas Selecione as Barras de ferramentas e Painéis que você deseja mostrar na interface do usuário. Alguns dos painéis úteis incluem Estilização de camadas e Caixa de Ferramentas de Processamento. Mova as Barras de Ferramentas e Painéis para as posições que fizerem mais sentido para você Resetando a interface QGIS Para redefinir sua tela para as configurações padrão, vá para Configurações  Opções  Guia Sistema  Configurações  Botão Redefinir e reinicie o QGIS. 2.7.1.7 Perguntas do questionário Verdadeiro ou falso: Você pode ter várias telas de mapa - Verdadeiro Você pode mostrar ou ocultar painéis e barras de ferramentas - Verdadeiro Você só pode colocar painéis no lado esquerdo ou direito da tela do mapa - Falso (você também pode colocar painéis acima ou abaixo da tela do mapa) 2.7.2 Título da fase 2: Complementos (Complementos) QGIS A capacidade de adicionar, criar e estender a funcionalidade do QGIS por meio de complementos (ou plug-ins) é um de seus recursos mais poderosos. A partir do QGIS 3.16.3, existem mais de 700 complementos disponíveis para o usuário baixar e melhorar. Esses complementos variam do complexo ao simples. Os complementos QGIS podem ser classificados como: Complementos core - integrado à sua versão do QGIS, não pode ser desinstalado Complementos externos - manualmente instalados por meio de busca em um repositório externo (ou seja, QGIS Official Plugin Repository) ou através do código-fonte. Os complementos podem ser instalados de três (3) maneiras: Através da caixa de diálogo Gerenciar e instalar complementos (Complementos  Gerenciar e instalar complementos) Instalando do ZIP, que pode ser acessado na guia Instalar do ZIP na caixa de diálogo Gerenciar e instalar complementos. Adicionando manualmente o código-fonte na pasta de complementos do seu perfil QGIS. Essa pasta geralmente pode ser encontrada em: Linux: .local/share/QGIS/QGIS3/profiles/default/python/plugins Mac OS X: Biblioteca/Aplicativo/Suporte/QGIS/QGIS3/profiles/default/python/plugins Windows: C:\\Usuário&lt;Nome&gt; Menu Gerenciar e Instalar Complementos Figura 1.5. Acessando a caixa de diálogo Gerenciar e instalar complementos Diálogo Gerenciar e Instalar Complementos A caixa de diálogo Gerenciar e instalar complementos se conecta ao repositório de complementos oficiais do QGIS (ou qualquer repositório que você indicar na guia Configurações) para buscar complementos disponíveis para sua versão do QGIS. Possui cinco (5) abas: Aba Tudo - mostra TODOS os complementos disponíveis para sua versão QGIS, incluindo aqueles que já estão instalados em sua máquina Aba Instalados - mostra apenas os complementos instalados em sua máquina Aba não instalado - mostra os complementos que não estão instalados em sua máquina Aba Instalar a partir do do ZIP - permite que você instale complementos de um arquivo ZIP Aba Opções - oferece opções sobre quando verificar se há atualizações de complementos, incluir ou não complementos experimentais e obsoletos ou adicionar / alterar o repositório para buscar complementos Se o complemento que você está procurando está marcado como experimental ou obsoleto, você precisa marcar Mostrar complementos experimentais e Mostrar complementos obsoletos na guia Opções. A Barra de Pesquisa permite que você pesquise complementos encontrados no(s) repositório(s) de complementos aos quais você está conectado. Caixa de diálogo Gerenciar e instalar complementos Figura 1.6. A caixa de diálogo Gerenciar e instalar complementos 2.7.2.1 Tutorial / Exercício 2: Instalando um complemento QGIS Abra a caixa de diálogo Gerenciar e instalar complementos em Complementos  Gerenciar e instalar complementos na barra de menus. Isso abrirá a caixa de diálogo Gerenciar e instalar complementos. Abrir caixa de diálogo Gerenciar e instalar complementos Caixa de diálogo Gerenciar e instalar complementos Instale os complementos a seguir procurando por eles na guia Todos e clicando em Instalar complemento no canto inferior direito da caixa de diálogo Gerenciar e instalar complementos. Memory Layer Saver Instalar o plugin Memory Layer Saver QuickOSM Instalar plugin QuickOSM Verifique se os complementos foram instalados com sucesso. O plugin Memory Layer Saver deve estar disponível em Complementos  Memory Layer Saver na barra de menus, enquanto o plugin QuickOSM deve estar disponível em Vetor  QuickOSM na barra de menus. 2.7.2.2 Perguntas do questionário Verdadeiro ou falso Você pode remover ou desinstalar os complementos do Core - Falso Você pode adicionar complementos que não são encontrados no repositório oficial de complementos do QGIS - Verdadeiro 2.7.3 Título da Fase 3: Configurações QGIS Configurações do sistema e do projeto As configurações do QGIS permitem que você edite e gerencie coisas diferentes sobre o QGIS, como perfis de usuário, estilos, sistemas de referência de coordenadas, atalhos de teclado, a interface do usuário, cores padrão, etc. As configurações do sistema podem ser encontradas no menu Configurações e são as configurações padrão usadas pelo QGIS, a menos que sejam substituídas pelas configurações de um projeto. As configurações do projeto podem ser encontradas em Projeto  Propriedades e referem-se às configurações ou propriedades do projeto atual. Esses valores substituem os padrões do sistema. As Configurações do Sistema Figura 1.7. As configurações do sistema Configurações do projeto Figura 1.8. Configurações do projeto Mudando o tema QGIS Você pode alterar a aparência do QGIS em Configurações  Opções  Aba Geral. Você pode escolher entre três temas - padrão (default), Blend of Grey e Night Mapping. Você também pode alterar o tamanho dos ícones, a fonte usada pelo QGIS e outros padrões do sistema. Configurações gerais do QGIS Figura 1.9. Configurações gerais do QGIS Para algumas configurações no QGIS, pode ser necessário reiniciar o aplicativo para que tenham efeito. Perfis de usuário QGIS 3.X introduziu o conceito de Perfis de Usuário QGIS. Um perfil de usuário é uma coleção de configurações para complementos instalados, barras de ferramentas habilitadas, organização da interface do usuário e outras configurações. QGIS vem com um Perfil de Usuário padrão chamado default. Perfis de usuário permitem que o usuário crie configurações diferentes para análises específicas (por exemplo, um perfil de usuário específico para gestão de recursos hídricos, digitalização de dados, cartografia, etc.), projetos particulares ou mesmo clientes. Perfis de usuário podem ser criados e acessados na barra de menus em: Configurações  Perfis de usuário. O perfil de usuário ativo é mostrado com [Perfil do usuário] na barra de título. Acessando perfis de usuário Figura 1.10. Acessando perfis de usuário Os perfis de usuário são salvos em um diretório em seu computador que pode ser acessado clicando em Configurações  Perfis de usuário  Abrir pasta de perfil ativo. 2.7.3.1 Tutorial / Exercício 03: Criando um Perfil de Usuário Vá para Configurações  Perfis de usuário  Novo perfil  alt_text Dê um nome ao seu novo perfil de usuário. alt_text Uma nova janela QGIS deve abrir com seu novo perfil de usuário. Observe que o nome do seu perfil é mostrado na barra de título do QGIS. Você percebe alguma diferença no novo perfil do usuário? Verifique a interface do usuário, os complementos e as configurações do perfil antigo e do novo perfil que você criou. 2.7.3.2 Perguntas do questionário Verdadeiro ou falso Você só pode ter um perfil de usuário no QGIS. - Falso (você pode ter vários perfis de usuário) Você não pode substituir as configurações e propriedades do sistema. - Falso 2.7.4 Título da Fase 4 (adicional): Formatos de arquivo do QGIS 2.7.4.1 Arquivo de projeto QGIS (QGS / QGZ) Projetos QGIS estão para QGIS como arquivos .mxd são para ArcMap. Esses arquivos vêm como QGS (.qgs) ou QGZ (.qgz). A principal diferença entre os dois é que o formato QGZ é um arquivo compactado (zip) contendo um arquivo QGS e um arquivo QGD. O formato QGS é um formato XML para armazenar projetos QGIS. O arquivo QGD é o banco de dados sqlite associado do projeto QGIS que contém dados auxiliares para o projeto. Se não houver dados auxiliares, o arquivo QGD ficará vazio. Um arquivo de projeto QGIS contém tudo o que é necessário para armazenar um projeto QGIS, incluindo: título do projeto CRS do projeto a árvore de camadas configurações de ajuste relações a extensão da tela do mapa modelos de projeto legend docas mapview (2D e 3D) as camadas com links para os conjuntos de dados subjacentes (fontes de dados) e outras propriedades da camada, incluindo extensão, CRS, junções, estilos, renderizador, modo de mesclagem, opacidade e muito mais propriedades do projeto Os arquivos do projeto QGIS podem ser salvos em um banco de dados GeoPackage ou PostGIS. Salvar o arquivo do projeto junto com o arquivo de estilo e as camadas correspondentes em um único GeoPackage facilita o compartilhamento de projetos QGIS. 2.7.4.2 Definição da camada QGIS (QLR) Um arquivo de definição de camada QGIS (QLR) é um arquivo XML que contém um ponteiro para a fonte de dados da camada, além das informações de estilo QGIS para a camada. Atualmente, um arquivo QLR corresponde a uma única camada apenas. O caso de uso para este arquivo é simples: ter um único arquivo para abrir uma fonte de dados e trazer todas as informações de estilo relacionadas. Os arquivos QLR também permitem definir a fonte de dados subjacente em um arquivo fácil de abrir. Um exemplo de uso de QLR é para abrir uma camada de um banco de dados PostGIS. Em vez de se conectar ao banco de dados, encontrar a camada e aplicar um filtro, você pode apenas abrir um arquivo .qlr que aponta para a camada PostGIS correta com seu estilo e filtro correspondentes. 2.7.4.3 Arquivo de estilo QGIS (QML) QML é um formato XML para armazenar estilos de camadas. Um arquivo QML (.qml) contém todas as informações que dizem ao QGIS como renderizar geometrias de feições que incluem definições de símbolos, tamanhos e rotações, rótulos, opacidade, modo de mesclagem e muito mais. Um arquivo .qml deve ter o mesmo nome da fonte de dados a que ele corresponde. Quando ele for encontrado no mesmo diretório ou pasta da fonte de dados, carregar a fonte de dados também carregará automaticamente seu estilo, conforme definido no arquivo .qml. Por exemplo, se você tiver um GeoJSON chamado regioes.geojson e um arquivo QML chamado regioes.qml, carregar as regioes.geojson no QGIS aplicará os estilos definidos em regioes.qml na camada carregada. Ao usar GeoPackages (.gpkg), um arquivo .qml muitas vezes não é necessário, pois você pode salvar o estilo de uma camada diretamente no geopacote. 2.7.5 Se você quiser ir mais longe: Você pode tentar criar seu próprio plugin QGIS. Se não houver um complemento que faça o que você deseja, você pode criar um você mesmo. O Plugin Builder é um plugin que cria um modelo que pode servir como ponto de partida para o desenvolvimento do plugin QGIS para que você não precise criar um desde o início. Você pode instalá-lo na caixa de diálogo Gerenciar e instalar complementos. Claro, você sempre pode criar um plugin do zero. Se você estiver interessado em criar seu próprio plugin, pode verificar a documentação oficial do QGIS (https://documentation.qgis.org/). Para complementos Python, é uma boa ideia verificar o PyQGIS Developer Cookbook (https://docs.qgis.org/3.16/en/docs/pyqgis_developer_cookbook/). Para obter mais informações, consulte: https://bnhr.xyz/2018/10/08/qgis-plugins-3.0.html 2.7.6 Para praticar suas novas habilidades, tente  Altere o tema e a aparência da interface do usuário QGIS de acordo com sua preferência. Instale outros complementos QGIS. Altere outras configurações do QGIS. Crie um sistema de referência de coordenadas personalizado Adicione uma tela inicial personalizada (https://bnhr.xyz/2020/09/05/custom-splash-screen-qgis.html) 2.7.7 Dicas N/D "],["camadas-no-qgis.html", "Capitulo 3 Camadas no QGIS 3.1 Introdução Pedagógica 3.2 Ferramentas e recursos necessários 3.3 Pré-requisitos 3.4 Recursos adicionais 3.5 Introdução temática 3.6 Detalhamento dos conceitos 3.7 Conteúdo principal", " Capitulo 3 Camadas no QGIS Autor: Ben Hur 3.1 Introdução Pedagógica Este módulo irá ensinar-lhe os conceitos básicos das camadas no QGIS e como carregá-las. No final deste módulo, os alunos devem estar familiarizados com: as diferentes fontes de dados e formatos de arquivo que podem ser carregados no QGIS as diferentes maneiras que os dados podem ser carregados no QGIS alguns formatos de arquivo de dados comuns Eles também devem ser capazes de: carregar camadas (vetores e rasters) usando o painel do navegador e o gerenciador de fonte de dados conectar o QGIS a serviços remotos trabalhar com camadas temporárias e virtuais instalar alguns plug-ins que carregarão outros conjuntos de dados no QGIS mostrar propriedades da camada, como metadados informações salvar e exportar camadas 3.2 Ferramentas e recursos necessários As ferramentas e recursos necessários para este módulo são: computador conexão à Internet QGIS 3.16 instalado no computador (https://qgis.org/en/site/forusers /download.html) 3.3 Pré-requisitos conhecimento básico de operação de um computador familiaridade com formatos de dados espaciais e a interface QGIS (conclusão dos Módulos 0 e 1) 3.4 Recursos adicionais QGIS User Guide - https://docs.qgis.org/3.16/en/docs/user_manual/ Manual de treinamento QGIS - https://docs.qgis.org/3.16/en/docs/training_manual/index.html Basemaps no QGIS - https://bnhr.xyz/2018/10/07/basemaps-in-qgis.html Conectando o QGIS ao Serviços remotos - [https://bnhr.xyz/2018/10/12/connecting-qgis-to-remote-services.html] (https://bnhr.xyz/2018/10/12/connecting-qgis-to -remote-services.html) Spreadsheet Layers Plugin - https://bnhr.xyz/2018/07/27/plugin-fridays-spreadsheet-layers-plugin.html 3.5 Introdução temática Análise de múltiplas camadas em GIS Figura 2.1. Uma sobreposição de mapa contendo diferentes camadas e tipos de dados (https://saylordotorg.github.io/text_essentials-of-geographic-information-systems/s11-02-multiple-layer-analysis.html) Aprendemos nos módulos anteriores que modelos de dados espaciais, como vetores e rasters, são modelos de objetos do mundo real e fenômenos e, embora seja perfeitamente normal ter uma única camada que modele uma única coisa (por exemplo, elevação, temperatura, localização de residências, zoneamento, etc.), na prática, se quisermos realizar análises úteis ou criar um modelo que reflita o mundo real melhor, então, precisaríamos usar vários dados e camadas juntos. Sobrepor vários mapas temáticos da mesma área, colocando-os uns sobre os outros, é uma das técnicas de análise geográfica mais antigas e comuns. 3.6 Detalhamento dos conceitos A imagem acima nos dá um exemplo simples e concreto disso. Imagine que você é um consultor GIS encarregado de encontrar a melhor localização para uma nova escola. Para fazer isso, você precisaria reunir as informações relevantes que o ajudariam a decidir. Isso pode incluir informações sobre as ruas da cidade, lotes de terreno, localização e distribuição de possíveis estudantes, a topografia da área, uso do solo, etc. Esses conjuntos de dados podem vir em diferentes tipos e formatos. Alguns podem ser arquivos vetoriais, enquanto outros podem ser raster. Alguns podem estar no mesmo sistema de referência de coordenadas, enquanto outros podem estar em sistemas de referência de coordenadas diferentes. Alguns podem ser arquivos locais encontrados em seu computador, enquanto outros só podem ser carregados pela Internet. Por causa das muitas possibilidades do tipo de dados que você precisaria para sua análise espacial, um bom GIS deve ser capaz de manipular e gerenciar uma variedade de fontes de dados. 3.7 Conteúdo principal 3.7.1 Título da fase 1: Tipos de dados, formatos de arquivo, o painel do navegador e o painel de camadas 3.7.1.1 Tipos de dados e formatos de arquivo comuns Além dos modelos de dados espaciais (rasters e vetores) discutidos no primeiro módulo, a familiaridade com formatos de arquivo geoespaciais e seus prós e contras também é importante para qualquer pessoa que faça análise espacial. A maioria das pessoas que são novas em GIS geralmente são apresentadas aos dados espaciais por meio de shapefiles. A maioria das pessoas nunca supera esse formato e usa shapefiles para todos os tipos e formas de dados vetoriais. Isso é semelhante a como uma marca específica como a Coca Cola começa a ser usada como o termo geral para refrigerantes. Isso não é necessariamente errado, mas é lamentável, pois os shapefiles são apenas um dos muitos tipos de formato de dados vetoriais. Na verdade, há muitos outros formatos de vetor como geopackage, geojson, topojson e flatgeobuf. O formato do shapefile, embora onipresente, tem algumas limitações significativas, como: Não é apenas um arquivo único. Na verdade, um shapefile consiste em vários arquivos, 3 dos quais são obrigatórios: .shp, .shx, .dbf. Todos os outros arquivos são chamados de arquivos secundários (sidecar). Tem um limite de tamanho de 2 GB para cada arquivo individual. Os nomes dos campos são limitados a 10 caracteres. Colunas de atributos são limitadas a 255 colunas. Não há suporte para alguns tipos de dados, como tempo. Não armazena explicitamente topologia. Outros formatos de dados, como GeoPackage, GeoJSON, TopoJSON e flatgeobuf, corrigem essas limitações dos shapefiles. Na verdade, QGIS e GRASS GIS mudaram para GeoPackage como o formato de arquivo vetorial padrão ao importar ou exportar camadas e, embora GeoPackage também tenha algumas limitações, é um formato completamente aberto e permite que a comunidade ajude a moldar o futuro do formato. Então, se não shapefiles, o que você deve usar? Não há nada de errado em usar shapefiles, especialmente se for adequado ao seu caso de uso. Se você não precisa de um conjunto de dados que vai além de 2 GB; se não houver problema em ter um limite de 10 caracteres para os nomes dos campos; ou se você estiver trabalhando com um pequeno número de arquivos localmente, um shapefile é totalmente adequado. No entanto, se você deseja empacotar seu projeto QGIS junto com todas as camadas (vetores, rasters), estilos e modelos; ou você deseja compartilhar vários tipos de camadas e dados espaciais em um único arquivo, vale a pena dar uma olhada em um GeoPackage. GeoPackages e GeoJSONs também são compatíveis com a web e podem ser usados diretamente por bibliotecas de mapeamento da web, como Mapbox e Leaflet. Você pode ler mais no link abaixo: https://bnhr.xyz/2018/12/12/i-choose-geopackage.html Enquanto isso, qualquer formato que pode ser representado como uma grade de pixels ou células pode ser lido pelo QGIS como dados raster. Isso inclui formatos de imagem como PNG (.png) e JPEG (.jpg). É importante notar que embora todos os formatos de arquivo de imagem possam ser lidos como rasters, nem todos são georreferenciados ou contêm informações geoespaciais que nos permitem localizá-los corretamente na Terra. Para instâncias como essa, podemos usar o que é conhecido como um arquivo mundial (ou world) (https://en.wikipedia.org/wiki/World_file). Um arquivo world é um arquivo de dados de texto simples separado, cujo nome é o mesmo do arquivo raster ao qual pertence e cuja extensão de arquivo tem a letra w adicionada ao final. Por exemplo, o arquivo world para world.png será nomeado world.pngw ou world.pgw. Alguns formatos de arquivo de imagem contêm georreferenciamento e informações explícitas e não precisam de um arquivo word. Alguns exemplos são GeoTIFFs (.tif ou tiff) e formato de arquivo ERDAS Imagine (.img). Para obter mais informações sobre formatos de arquivo, você também pode acessar: https://saylordotorg.github.io/text_essentials-of-geographic-information-systems/s09-03-file-formats.html Os Dados geoespaciais também podem vir no formato de bancos de dados geoespaciais. Eles podem ser bancos de dados de nível empresarial, como o Postgres, gratuito e de código aberto, com extensão PostGIS (https://postgis.net/) ou ArcSDE, proprietário da ESRI. Existem também bancos de dados geográficos de arquivos que podem armazenar diferentes tipos de dados (por exemplo, vetores e rasters) dentro deles. Alguns exemplos são o OGC GeoPackage, gratuito e aberto (.gpkg) (https://www.geopackage.org/) e o formato patenteado File Geodatabase da ESRI (.gdb). 3.7.1.2 Tipos de fontes de dados Um dos recursos mais poderosos do QGIS é sua capacidade de conectar, carregar e usar diferentes dados espaciais e não espaciais de uma variedade de fontes. O QGIS pode abrir: arquivos raster e vetoriais bancos de dados locais arquivos e bancos de dados na Internet por meio de seu identificador de recurso uniforme (URI) ou localizador de recurso uniforme (URL), serviços da web (serviços da web OSGeo e serviços da web ArcGIS), tile services e portais de dados como GeoNode e muitos mais O QGIS também pode conectar e carregar dados de serviços como dados SRTM da NASA, imagens do planeta, SentinelHub, Google Earth Engine e OpenStreetMap através de plug-ins. Isso torna o QGIS um componente integral para qualquer infraestrutura ou fluxo de trabalho de dados espaciais. 3.7.1.3 Carregando camadas no QGIS Existem várias maneiras de carregar camadas no QGIS. Estes incluem: Arraste e solte a camada na Tela do Mapa QGIS ou no Painel de Camadas. Esta pode ser a maneira mais fácil de carregar uma camada no QGIS, mas não é a abordagem recomendada, pois há várias coisas que podem dar errado ao usar esta abordagem, como ao carregar dados tabulares não espaciais, por exemplo CSVs. Usando o Painel do navegador. Usando o Gerenciador de fonte de dados. Usando a barra de ferramentas do Gerenciador de fonte de dados e a barra de ferramentas Gerenciar camadas. ** NOTA: ** Ao carregar camadas, as cores padrão de suas camadas podem ser diferentes das cores padrão mostradas neste módulo. 3.7.1.4 O painel do navegador O Painel do navegador exibe uma árvore de arquivos que mostra os arquivos e pastas do seu computador, bem como as conexões com bancos de dados e servidores web. Por padrão, ele é encaixado no lado esquerdo da interface do usuário QGIS junto com o Painel de Camadas. O painel do navegador expõe muitas funcionalidades para conectar, carregar e mostrar informações sobre camadas. Você também pode criar conexões para diretórios favoritos e marcadores espaciais no painel do navegador. Para saber mais sobre o painel do navegador, acesse: https://docs.qgis.org/3.16/en/docs/user_manual/introduction/browser.html 3.7.1.5 Exercício 01.1: O painel do navegador Abra o QGIS. Verifique o painel do navegador (Figura 2.2). Se você não conseguir encontrar o painel do navegador, pode torná-lo visível em Exibir  Painéis  Painel do navegador na barra de menus. O painel do navegador QGIS Figura 2.2. O painel do navegador Observe como os drives e pastas podem ser expandidas para mostrar as subpastas dentro delas. Localize a pasta Módulo 2 - Camadas no QGIS (Figura 2.3) na árvore de arquivos (observe onde você salvou ou baixou o arquivo). Você deve ser capaz de ver os dados necessários para esta pasta de trabalho. No meu exemplo à direita, vinculei a pasta mencionada a um dos meus Favoritos para acessá-la facilmente no painel do navegador. Você pode adicionar um diretório favorito ao Painel do navegador clicando com o botão direito em Favoritos e adicionando o diretório. Verifique os arquivos dentro da pasta (Figura 2.3). Existem vários deles. A partir da própria árvore de arquivos, já podemos ter uma ideia dos arquivos e camadas que podemos carregar no QGIS. Os ícones à esquerda dos nomes indicam se os dados são um vetor , um raster , um banco de dados ou dados tabulares simples . Arquivos do módulo 2 no painel do navegador Figura 2.3. Os arquivos do módulo no painel do navegador Existem 5 arquivos na pasta de dados: um GeoPackage (br_rj.gpkg) que contém um arquivo vetorial (br_rj_hospitais) e raster (br_rj_srtm_dem); um GeoJSON (br_ufs.geojson); um arquivo kml (br_rj_municipios.kml); um arquivo de forma (br_pais.shp); e um arquivo de valores separados por vírgula (CSV) (br_rj_escolas.csv). Clique com o botão direito em br_pais.shp e clique em Propriedades da camada (Figura 2.4). Isso abre a janela de propriedades da camada (Figura 2.5). Observe as informações fornecidas na janela. Qual é a geometria da camada? Qual CRS é usado? Quantos recursos existem na camada? Verificando as propriedades da camada Figura 2.4 Verificando as propriedades da camada Propriedades da camada no painel do navegador Figura 2.5. Propriedades da camada no painel do navegador Além de fornecer metadados nas camadas, você também pode visualizar a geometria e os atributos da camada na janela de propriedades da camada. Você pode carregar uma camada do painel do navegador: clicando duas vezes na camada clicando com o botão direito na camada  Adicionar camada ao projeto arrastando a camada para a área do mapa Tente carregar as camadas br_pais, br_ufs e br_rj_municipios usando qualquer um dos métodos acima. As camadas vetoriais carregadas no QGIS Figura 2.6. As camadas vetoriais carregadas no QGIS 3.7.1.6 O painel de camadas O painel de camadas lista todas as camadas atuais no projeto. Ele ajuda a gerenciar sua visibilidade e ordem e pode ser usado para mostrar as propriedades da camada. O painel de camadas pode ser ativado em Exibir  Painéis  Painel de camadas ou usando o atalho CTRL + 1. Ele também é chamado de legenda do mapa. Se você carregou todos os vetores do exercício anterior, seu painel de camadas deve aparecer como abaixo: Painel de camadas Figura 2.7. O painel de camadas A visibilidade de uma camada pode ser controlada marcando ou desmarcando a caixa à esquerda do nome da camada. Ao arrastar as camadas para cima ou para baixo no painel Camadas, sua ordem pode ser alterada. Semelhante ao software de manipulação de imagem como GIMP ou Photoshop, as camadas listadas perto do topo são desenhadas sobre as camadas listadas abaixo. Portanto, se duas camadas mostrarem a mesma área, a camada mais alta no painel camadas será desenhada no topo da camada inferior e pode ocultar a camada inferior na tela do mapa. É importante notar esse ponto porque pode haver casos em que pensamos que uma camada não aparece no QGIS quando na realidade está sendo coberta ou escondida por uma camada em cima dela. NOTA: A ordem Z das camadas no Painel de camadas pode ser substituída pelo Painel de ordem das camadas. O painel de camadas também permite ao usuário renomear e remover camadas, filtrar a visibilidade da camada, criar e gerenciar grupos de camadas e visualizações de mapas. A tabela de atributos de uma camada vetorial também pode ser aberta no painel Camadas clicando com o botão direito do mouse na camada  Abrir tabela de atributos. Para saber mais sobre o painel de camadas, acesse: https://docs.qgis.org/3.16/en/docs/user_manual/introduction/general_tools.html#layers-panel 3.7.1.7 Propriedades da camada Clicar com o botão direito em uma camada no painel Camadas e selecionar Propriedades da camada abrirá a caixa de diálogo Propriedades da camada. A caixa de diálogo Propriedades da camada Figura 2.8. A caixa de diálogo Propriedades da camada Existem várias guias na caixa de diálogo Propriedades da camada que permitem ao usuário ver informações e até mesmo editar / modificar propriedades relacionadas à camada. A guia Informações mostra uma representação somente leitura de informações resumidas e metadados da camada atual, incluindo: o provedor de dados metadados geometria ou informações de campo A guia Fonte mostra as configurações gerais para uma camada vetorial. Abas como Simbologia, Rótulos, Máscaras e Visualização 3D permitem que o usuário modifique a simbologia e o estilo da camada. Outras guias permitem que os usuários realizem junções com a Camada (Junção), obtenham informações sobre os campos de atributos (Campos), adicionem Formulários personalizados para adicionar novos dados (Formulários de Atributo) e muito mais. Outra guia que vale a pena mencionar é a guia Metadados, que fornece ao usuário a capacidade de criar e editar um relatório de metadados na camada. Isso inclui informações sobre: Identificação de dados: atribuição básica do conjunto de dados (dado pai, identificador, título, resumo, idioma ); Categorias às quais os dados pertencem, como categorias ISO e personalizadas; Palavras-chave para recuperar os dados e conceitos associados seguindo um vocabulário padrão; Acesso ao conjunto de dados (licenças, direitos, taxas e restrições); Extensão do conjunto de dados, seja espacial (CRS, extensão do mapa, altitudes) ou temporal; Contato do(s) proprietário(s) do conjunto de dados; Links para recursos auxiliares e informações relacionadas; e História do conjunto de dados. Um resumo das informações preenchidas é fornecido na guia Validação e ajuda a identificar possíveis problemas relacionados ao formulário de metadados. Atualmente, os metadados são salvos no arquivo de projeto, mas também podem ser salvos em um arquivo .qmd separado ao lado das camadas baseadas em arquivo ou em um banco de dados .sqlite local para camadas remotas. Para saber mais sobre as propriedades da camada vetorial, acesse: https://docs.qgis.org/3.16/en/docs/user_manual/working_with_vector/vector_properties.html Para saber mais sobre as propriedades da camada raster, vá para: https://docs.qgis.org/3.16/en/docs/user_manual/working_with_raster/raster_properties.html 3.7.1.8 Metadados geoespaciais Metadados são simplesmente dados sobre os dados. Eles responde, o quem, o que, quando, onde e como dos dados e vem em todas as formas e tamanhos. Para fins de GIS, geralmente estamos preocupados com metadados geoespaciais. Os metadados geoespaciais são descritos pelo US Federal Geographic Data Committee (FGDC) como: um arquivo de informações, geralmente apresentado como um documento XML, que captura as características básicas de um recurso de dados ou informações. Representa quem, o quê, quando, onde, por que e como do recurso. Metadados geoespaciais comumente documentam dados digitais geográficos, como arquivos de Sistema de Informação Geográfica (GIS), bancos de dados geoespaciais e imagens da Terra, mas também podem ser usados para documentar recursos geoespaciais, incluindo catálogos de dados, aplicativos de mapeamento, modelos de dados e sites relacionados. Os registros de metadados incluem os principais elementos do catálogo da biblioteca, como Título, Resumo e Dados de Publicação; elementos geográficos, como extensão geográfica e informações de projeção; e elementos de banco de dados, como Definições de Rótulo de Atributo e Valores de Domínio de Atributo. A importância dos metadados é que eles não apenas promovem a transparência, mas também facilitam o compartilhamento de dados e informações. É por isso que é importante sempre adicionar metadados aos nossos conjuntos de dados. Ao adicionar metadados, é igualmente importante seguir padrões - regras e práticas amplamente promovidas, aceitas e seguidas - para que os metadados que criamos sejam interoperáveis. Um desses padrões é a ISO 19115: 2014 Informação Geográfica - Metadados da ISO / TC 211 ([https://www.iso.org/obp/ui/#iso:std:iso:19115:-1:ed-1:v1:en] (https://www.iso.org/obp/ui/#iso:std:iso:19115:-1:ed-1:v1:en)) 3.7.1.9 Exercício 01.2: Adicionando metadados Abra as Propriedades da camada da camada br_pais. Verifique as informações mostradas na guia Informações e observe as informações mostradas. Está completo? Podemos adicionar mais informações? Propriedades de informações da camada br_pais Figura 2.9. Propriedades de informações da camada br_pais Vá para a guia Metadados e tente adicionar mais informações sobre a camada, como extensão, categoria de dados, licença, etc. Clique em OK quando terminar. Editando alguns metadados Figura 2.10. Editando alguns metadados Vá para a guia Informações novamente e veja se algo mudou. A guia Informações após a edição de alguns metadados Figura 2.11. A guia Informações depois de editar alguns metadados 3.7.1.10 Perguntas do questionário Verdadeiro ou falso: Todos os arquivos vetoriais são shapefiles. - *** Falso (um shapefile é um formato de arquivo de um arquivo vetorial. Outros formatos de arquivo de dados vetoriais incluem geopackage, geojson e flatgeobuf) *** Quando renderizado no mapa, uma camada que é superior no painel de camadas sempre cobrirá ou aparecerá no topo de uma camada que está abaixo no painel de camadas. - *** Falso (quando ativado, a ordem no painel de ordem de camadas substituirá a ordem no painel de camadas) *** Você pode verificar as informações de metadados sobre uma camada no painel Camadas e no painel do navegador. - *** Verdadeiro *** 3.7.2 Título da fase 2: O gerenciador de fonte de dados e conexão com serviços remotos 3.7.2.1 O Gerenciador de fonte de dados Se você não quiser usar o painel do navegador para carregar camadas, você sempre pode usar o Gerenciador de fonte de dados. O Gerenciador de fonte de dados foi introduzido com o lançamento do QGIS 3. É um local único para adicionar e carregar camadas de diferentes fontes de dados no QGIS. Antes de sua introdução, havia janelas separadas para carregar diferentes fontes de dados (ou seja, uma para rasters, outra para vetores, etc.). Ele pode ser acessado via Camadas  Gerenciador de fonte de dados ou CTRL + L. Gerenciador de fonte de dados Figura 2.12. O Gerenciador de fonte de dados 3.7.2.2 Exercício 02.1: O Gerenciador de fonte de dados Abra o Gerenciador de fonte de dados. Ele contém guias no lado direito que pertencem ao tipo de fonte de dados que você deseja carregar ou conectar. Semelhante ao navegador, você pode carregar e conectar vários tipos de dados do Gerenciador de fonte de dados. Carregando vetores Para carregar vetores, vá para a guia Vetor. Podem ser carregados arquivos, arquivos dentro de um diretório, um banco de dados e até mesmo arquivos remotos por meio de um protocolo como HTTP, nuvem, etc. Vamos carregar o arquivo vetorial (br_rj_hospitais) encontrado dentro do geopackage br_rj. Esta camada é uma camada de pontos das localizações dos hospitais na cidade do Rio de Janeiro. Tipo de fonte: Arquivo Fonte: Selecione o geopackage br_rj usando o botão Clique em Adicionar Se houver mais de 1 arquivo vetorial dentro do geopackage, o QGIS pedirá que você selecione quais carregar. Carregando um vetor dentro de um GeoPackage Figura 2.13. Carregando um vetor dentro de um GeoPackage Carregando Rasters Para carregar um raster, vá para a aba Raster. Arquivos e arquivos remotos podem ser carregados por meio de um protocolo como HTTP, nuvem, etc. Há um raster (br_rj_srtm_dem) dentro do geopackage br_rj. Este raster é um modelo digital de elevação da região da cidade do Rio de Janeiro. Para carregá-lo: Tipo de fonte: Arquivo Fonte: Selecione o geopackage br_rj usando o botão pesquisar Clique em Adicionar Se há mais de 1 arquivo raster dentro do geopackage, o QGIS irá pedir para você selecionar quais carregar Carregando um raster dentro de um GeoPackage Figura 2.14. Carregando um raster dentro de um GeoPackage Carregando CSV e outros arquivos de texto delimitado Além de vetores e rasters, outro arquivo comum em GIS são CSVs e planilhas. Felizmente, é relativamente fácil carregar esses arquivos no QGIS. CSVs e outros arquivos de texto delimitados podem ser carregados por meio da guia Texto Delimitado no Gerenciador de Fonte de Dados, adicionando-os do Painel do Navegador e até mesmo arrastando-os para a Tela do Mapa. No entanto, algumas coisas devem ser consideradas se o CSV que você possui contém informações de geometria (por exemplo, localizações de pontos). A regra geral é: Use o Gerenciador de fonte de dados para carregar CSVs, quer eles contenham ou não informações de geometria. Se os CSVs forem carregados por meio do painel do navegador ou arrastando-os, certifique-se de que haja um arquivo CSVT correspondente para preservar os tipos de dados do campo. Se você encontrar problemas ao preservar os tipos de dados para seus textos delimitados (especificamente CSVs), você pode usar o que é chamado de arquivo CSVT. Você pode ler mais sobre como carregar CSVs no QGIS no seguinte link: https://bnhr.xyz/2018/08/07/specifying-csv-data-types-using-a-csvt-file.html CSVs e planilhas podem ser carregados no QGIS com ou sem informações espaciais ou geométricas. Quando carregados com informações espaciais, são tratados como dados vetoriais. Quando são carregados sem, são tratados como dados tabulares normais. Há um arquivo CSV na pasta de dados denominado br_rj_escolas.csv que contém as localizações das escolas no Rio de Janeiro. Para carregá-lo: Vá para a guia Texto delimitado Nome do arquivo: Selecione o br_rj_escolas CSV usando o botão pesquisar Formato de arquivo: CSV Opções de registro e campos: mantenha o padrão Definição de geometria: Coordenadas de ponto Campo X: longitude Campo Y: latitude Geometria CRS: EPSG: 4326 - WGS 84 Configurações de camada: Marque Olhar arquivo e Usar índice espacial Quando Olhar arquivo é marcado, as atualizações para o CSV local são refletidas automaticamente na camada carregada no QGIS. Usar índice espacial adicione um índice espacial à camada carregada, o que torna o processamento vetorial mais rápido. Carregando um arquivo CSV Figura 2.15. Carregando um arquivo CSV Assim que todas as camadas dos exercícios anteriores forem carregadas, o Painel de camadas deve ser semelhante à imagem abaixo: Painel de camadas com todas as camadas carregadas Figura 2.16. Painel de camadas com todas as camadas carregadas A tela do mapa deve ser semelhante a: Interface QGIS com todas as camadas carregadas Figura 2.17. Interface QGIS com todas as camadas carregadas Sinta-se à vontade para reorganizar as camadas no painel de camadas. 3.7.2.3 Conectando QGIS a Serviços Remotos Além de arquivos vetoriais e raster, QGIS também pode se conectar a serviços remotos, como serviços de tiles, OGC Web Services (WMS, WFS), e até ESRI ArcGIS Web Services. Esta conexão pode ser criada a partir do painel do navegador ou do gerenciador de fonte de dados. 3.7.2.4 Exercício 02.2: Conectando-se a tiles XYZ Os tiles XYZ geralmente são usados como mapas base e não são utilizados apenas em aplicativos de desktop, mas, mais comumente, em aplicativos da web. Para conectar a um servidor de tiles: Vá para Painel do navegador Clique com o botão direito do mouse em XYZ Tiles  Nova conexão Adicione o seguinte: Nome: ESRI World Imagery URL: https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x} Clique em OK. Adicionando uma conexão XYZ no QGIS Figura 2.18. Adicionando uma conexão XYZ no QGIS Isso deve adicionar um item ESRI World Imagery em XYZ Tiles no painel do navegador. Servidor ESRI World Imagery Tile adicionado ao Painel do Navegador Figura 2.19. Servidor ESRI World Imagery Tile adicionado ao Painel do Navegador Você pode carregar a camada de mosaico XYZ como qualquer outra camada do Painel do Navegador. Camada do mapa base OpenStreetMap carregada no QGIS Figura 2.20. Camada OpenStreetMap carregada no QGIS BÔNUS: Se você deseja adicionar vários mapas de base em tiles XYZ no painel do navegador, siga as instruções nesta postagem: https://bnhr.xyz/2018/10/07/basemaps-in-qgis.html BÔNUS 2: Você pode adicionar os URLs dos tileservers encontrados no site Leaflet Providers (https://leaflet-extras.github.io/leaflet-providers/preview/) como tiles XYZ no painel do navegador. 3.7.2.5 Exercício 02.3: Conectando-se a WMS / WMTS e WFS WMS ou Web Map Service é um Open Geospatial Consortium (OGC) (https://www.ogc.org/) padrão de serviço da web de reclamação para exibição de imagens (tiles raster) pela Internet. Quando os dados são fornecidos via WMS, o usuário não pode editar diretamente as informações contidas neles nem alterar seu estilo. Enquanto isso, o WFS ou Web Feature Services é outro serviço da Web compatível com OGC para servir recursos (vetores) pela Internet. Quando os dados são fornecidos via WFS, o usuário tem acesso aos atributos subjacentes e à geometria, permitindo alterar estilos, editar e usar a camada para análise vetorial. Para conectar-se a um WMS: Vá para Painel do navegador Clique com o botão direito em WMS / WMTS  Nova conexão Adicione o seguinte: Nome: Risco de inundação LiPAD 100 anos URL de: https://api.mapbox.com/styles/v1/osmph/cjqrynb300m522sper0emmgs6/wmts?access_token=sk.eyJ1Ijoib3NtcGgiLCJhIjoiY2pxbjF6czN2MGllbTQy4bXVUOW44ZDlMS Clique em adicionar Criando uma nova conexão WMS/WMTS Figura 2.21. Criação de uma nova conexão WMS / WMTS Isso deve adicionar um item de Risco de inundação LiPAD 100 anos nas conexões WMS / WMTS e OWS no painel do navegador. O LiPAD 100-year Flood Hazard WMS adicionado ao painel do navegador Figura 2.22. O LiPAD 100-year Flood Hazard WMS adicionado ao painel do navegador Você pode carregar as camadas WMS como qualquer outra camada do painel do navegador. Mapa de risco de inundação do WMS carregado no QGIS Figura 2.23. Mapa de risco de inundação do WMS carregado no QGIS A conexão com o WFS segue o mesmo procedimento. 3.7.2.6 Perguntas do questionário Verdadeiro ou falso: Você só pode carregar arquivos locais no QGIS - *** Falso (você também pode carregar arquivos remotos, como aqueles armazenados online ou servidos por serviços da web) *** 3.7.3 Título da Fase 3: Exportando Camadas, Camadas na Memória (Temporárias) e Camadas Virtuais 3.7.3.1 Exportando Camadas do QGIS Exportar camadas (ou salvar camadas em arquivos) é simples no QGIS. Simplesmente clique com o botão direito do mouse na camada  Exportar para visualizar as opções de exportação da camada. Exportando uma camada do QGIS Figura 2.24. Exportar uma camada do QGIS Salvar recursos como  permite que você salve a camada raster ou vetorial. Quando um filtro está ativo na camada vetorial, apenas os recursos filtrados (aqueles que aparecem na tela do mapa) são exportados. Salvar recursos selecionados como  é uma opção para camadas vetoriais que permite salvar apenas os recursos selecionados atualmente. Salvar como arquivo de definição de camada  cria um arquivo QLR (consulte Módulo 1, Formatos de arquivo QGIS) para a camada Salvar como arquivo de estilo de camada QGIS  salva um arquivo QML (consulte Módulo 1, Formatos de arquivo QGIS) para a camada Ao exportar uma camada, o QGIS oferece a opção de selecionar o formato do arquivo de saída, os campos a serem incluídos (se for um arquivo vetorial), o sistema de referência de coordenadas de saída e outras opções. Isso significa que você pode realizar a projeção de coordenadas exportando uma camada. Caixa de diálogo Salvar camada vetorial Figura 2.25. Caixa de diálogo Salvar Camada de Vetor Para obter mais informações sobre como salvar uma camada de um arquivo existente, vá para: [https://docs.qgis.org/3.16/en/docs/user_manual/managing_data_source/create_layers.html#save-layer-from-an- arquivo existente] (https://docs.qgis.org/3.16/en/docs/user_manual/managing_data_source/create_layers.html#save-layer-from-an-existing-file) 3.7.3.2 Camadas na memória Às vezes, não precisamos ou não queremos salvar fisicamente as camadas que usamos em nossa análise em nossos computadores, especialmente se forem apenas temporárias. QGIS entende isso e permite que os usuários criem camadas temporárias / rascunho (scratch). Essas camadas podem ser usadas de forma semelhante às camadas vetoriais regulares, mas não precisam ser permanentemente salvas em um arquivo em nossas unidades de armazenamento porque o QGIS as armazena na memória ou RAM. Camadas temporárias são mostradas no Painel de camadas com este ícone . Os resultados dos algoritmos de processamento são armazenadas como camadas temporárias por padrão. A desvantagem das camadas temporárias é que o QGIS esquece essas camadas na memória quando é fechado. Para remediar isso, podemos usar o plugin Memory Layer Saver para permitir que nossas camadas temporárias sejam persistentes. Ao salvar um projeto QGIS que usa camadas temporárias, é uma boa prática executar / ativar o plugin Memory Layer Saver primeiro. Para usar o plugin Memory Layer Saver, simplesmente vá para Plugins  Memory Layer Saver antes de salvar e fechar seu projeto QGIS. Na próxima vez que você abrir seu projeto QGIS, as camadas temporárias (ou camadas na memória) ainda devem estar presentes. É claro que você também pode tornar a camada temporária permanente, exportando a camada para um arquivo. Ao clicar no ícone você abrirá automaticamente uma caixa de diálogo de exportação de camada. 3.7.3.3 Camadas virtuais Uma camada virtual é um tipo especial de camada vetorial que é criada instantaneamente como resultado de uma consulta de dados de outra camada. Por exemplo, podemos criar uma camada virtual que cria um buffer em torno de outra camada. Sempre que uma nova feição for adicionada à camada fonte, a camada virtual será atualizada automaticamente. Atualmente, as camadas virtuais não parecem funcionar com as camadas fonte na memória. As camadas virtuais são dinâmicas. Isso significa que quando a camada de base / origem é atualizada, a camada virtual também é atualizada. Isso pode economizar espaço e reduzir a duplicação de dados, já que os dados da camada virtual simplesmente obterão dados da camada base sem a necessidade de salvar nada no disco, embora possa haver alguma sobrecarga de desempenho se consultas ou operações complexas forem usadas para definir a camada virtual. Códigos semelhantes a SQL são usadas para definir a camada virtual. As camadas virtuais dependem de outras camadas, portanto, é importante que as camadas de base não sejam movidas ou renomeadas. Quando a camada de base é atualizada, você precisa atualizar a exibição do mapa fazendo uma movendo ou ampliando o mapa para mostrar a atualização da camada virtual. 3.7.3.4 Perguntas do questionário Verdadeiro ou falso: Ao exportar uma camada vetorial, você pode selecionar o formato para salvá-la.  Verdadeiro Camadas temporárias (ou scratch) são sempre esquecidas pelo QGIS quando ele é fechado. - *** Falso (elas podem se tornar persistentes usando o plug-in Memroy Layer Saver)*** Quando a camada de base para uma camada virtual é atualizada, a camada virtual é automaticamente atualizada na tela do mapa sem a necessidade de entrada do usuário. - Falso (o usuário precisa atualizar a tela do mapa, movimentando ou ampliando antes que a atualização da camada virtual seja refletida na tela) 3.7.4 Se você quiser ir mais longe: 3.7.4.1 Instale alguns plug-ins que servem como fontes de dados Alguns plug-ins fornecem a funcionalidade de carregar dados no QGIS. Estes incluem dados vetoriais, imagens de satélite, arquivos raster, mapas de base, etc. Tente instalar os seguintes plug-ins e descubra que tipo de dados eles carregam no QGIS: QuickOSM (https://plugins.qgis.org/plugins/QuickOSM/) SRTM-Downloader (https://plugins.qgis.org/plugins/SRTM-Downloader/) QuickMapServices (https://plugins.qgis.org/plugins/quick_map_services/) PS Alguns desses plug-ins exigem que você se inscreva para uma conta com o provedor de dados. 3.7.4.2 Conecte-se a instâncias GeoNode GeoNode (https://geonode.org/) é um sistema de gerenciamento de conteúdo geoespacial de código aberto construído com uma pilha FOSS4G madura que inclui PostGIS, GeoServer, MapStore, etc. Você pode pensar no GeoNode como um portal de dados geoespaciais. Você pode conectar facilmente o QGIS a uma instância GeoNode através do conector GeoNode no Painel do Navegador ou no Gerenciador de Fonte de Dados. Vá para o Painel do navegador Clique com o botão direito em GeoNode  Nova conexão Adicione o seguinte: Nome: UNESCO IHP-WINS URL: [http://ihp-wins.unesco.org/](http://ihp-wins.unesco.org/) Conectar ao GeoNode Você pode saber mais sobre como conectar o QGIS a serviços remotos em: https://bnhr.xyz/2018/10/12/connecting-qgis-to-remote-services.html 3.7.4.3 Exercício / Tutorial sobre Camadas Virtuais Abra o QGIS. Carregue uma imagem de satélite ou mapa base de satélite via tiles XYZ ou plugin QuickMapServices (por exemplo, Google Satellite). Crie uma nova camada de geopackage com na barra de ferramentas do Gerenciador de fonte de dados. Nomeie-o como arvores, adicione campos de raio (número inteiro) e espécies (texto) e use um CRS projetado (por exemplo, EPSG: 3857) Nova camada GeoPackage Quando for avisado de que o arquivo já existe, selecione Adicionar nova camada. GeoPackage Layer já existe Ative a edição na camada arvores clicando com o botão direito nela  Alterne a edição ou clique na barra de ferramentas de digitalização. Selecione uma área na imagem de satélite que contenha árvores. Com a edição ativada, habilite a adição de pontos à camada Árvores clicando em (CTRL +.). Digitalize árvores individuais clicando em sua localização e adicionando as informações de atributo. Faça isso para 4 árvores. Para este exercício, você pode apenas adivinhar as informações. Adicionar novas árvores Depois de adicionar os pontos, não se esqueça de salvar suas edições clicando em na barra de ferramentas Digitalização antes de desligar a Edição. Novos pontos (árvores) adicionados Adicione uma camada virtual clicando em na barra de ferramentas do Gerenciador de fonte de dados. Defina o nome da camada para cobertura_de_arvores. Importe as árvores. Adicione a seguinte consulta: select fid, buffer(geometry, radius), species from arvores Criar camada virtual Camada virtual no QGIS Adicione um novo ponto e, em seguida, atualize a exibição do mapa (aplicando zoom ou panorâmica na tela do mapa) para ver a atualização na camada virtual. O que você notou? 3.7.5 Para praticar suas novas habilidades, tente  3.7.5.1 Carregar rasters e vetores encontrados na internet Além de arquivos binários locais (vetores, rasters), o QGIS também pode carregar vetores e rasters encontrados na Internet. Use o Gerenciador de fonte de dados para carregar os dados do seguinte URL: https://raw.githubusercontent.com/benhur07b/stomp-covid19-data/master/spatial/stompcovidph_regions.geojson 3.7.5.2 Carregar uma planilha no QGIS usando o plugin Spreadsheet Layers Instale o plugin Spreadsheet Layers e tente carregar uma planilha no QGIS. O plugin aceita formatos Open Document Standard (.ods) e arquivos Microsoft Excel (.xls, .xlsx). Leia aqui: https://bnhr.xyz/2018/07/27/plugin-fridays-spreadsheet-layers-plugin.html 3.7.6 Dicas Se você precisar de uma camada de mapa mundial, tente digitar world na barra de Coordenadas da barra de Status. O que acontece? Este é apenas um dos óvos de páscoa (easter eggs), ou surpresas encontradas no QGIS quando você digita certas palavras na barra de Coordenadas. "],["openstreetmap-e-a-camada-de-assentamentos-de-alta-resolução.html", "Capitulo 4 OpenStreetMap e a camada de assentamentos de alta resolução 4.1 Introdução pedagógica 4.2 Ferramentas e recursos necessários 4.3 Pré-requisitos 4.4 Recursos adicionais 4.5 Introdução temática 4.6 Análise dos conceitos 4.7 Conteúdo principal", " Capitulo 4 OpenStreetMap e a camada de assentamentos de alta resolução Autor: Ben Hur 4.1 Introdução pedagógica Este módulo apresentará o OpenStreetMap (OSM) e a camada de assentamentos de alta resolução (High Resolution Settlement Layer - HRSL). No final deste módulo, os alunos estarão familiarizados com: Princípios do OpenStreetMap Dados e casos de uso do OpenStreetMap Dados e casos de uso da camada de assentamentos de alta resolução Eles também devem ser capazes de: carregar dados OSM como vetores e tiles no QGIS carregar o raster HRSL no QGIS 4.2 Ferramentas e recursos necessários As ferramentas e recursos necessários para este módulo são: computador conexão com a internet QGIS 3.16 instalado no computador (https://qgis.org/en/site/forusers/download.html) Camadas vetoriais br_rj_capital e br_rj_centro (dentro de module3.gpkg). 4.3 Pré-requisitos conhecimento básico de operação de um computador familiaridade com formatos de dados espaciais, a interface QGIS e como carregar camadas no QGIS (conclusão dos Módulos 0, 1 e 2) 4.4 Recursos adicionais OpenStreetMap - https: / /www.openstreetmap.org/ OpenStreetMap Wiki - https://wiki.openstreetmap.org/ Manual do usuário da API OVerpass - https://dev.overpass-api.de/overpass-doc/en/ Facebook - AHigh Resolution Settlement Layer - https://research.fb.com/downloads/high-resolution-settlement-layer-hrsl/ CEISIN - High Resolution Settlement Layer - https://ciesin.columbia.edu/data/hrsl/ HDX HRSL - https://data.humdata.org/search?organization=facebook&amp;q=%22High%20Resolution%20Population%20Density%20Maps%20%2B%20Demographic%20Estimates%22 4.5 Introdução temática Os mapas se tornaram onipresentes em nossas vidas diárias. Podemos simplesmente acessar nossos telefones e abrir aplicativos que utilizam mapas e dados de localização. Existem aplicativos que usamos para nos orientar e nos localizar, para navegar e ir de um lugar para outro; mapas são mostrados quando pedimos comida em nosso serviço de entrega favorito, etc. Os mapas se tornaram tão essenciais para o nosso dia a dia que nós tendemos a esquecer que existem lugares no mundo que ainda não estão mapeados ou não foram encontrados nos mapas digitais que usamos. 4.6 Análise dos conceitos A onipresença dos mapas em nossas vidas é um subproduto da grande quantidade de dados de localização e dados espaciais que estamos coletando. As oportunidades e o potencial para criar algo bom a partir dos dados geoespaciais disponíveis para nós são excelentes, mas isso só será possível se esses conjuntos de dados geoespaciais forem gratuitos e abertos. 4.7 Conteúdo principal 4.7.1 Título da fase 1: Dados do OpenStreetMap (OSM) 4.7.1.1 O que é OpenStreetMap (OSM)? OpenStreetMap (OSM) (https://www.openstreetmap.org/) é um mapa editável gratuito de todo o mundo, construído por voluntários de todo o mundo e lançado com uma licença de conteúdo aberto. É um projeto que cria e distribui dados geográficos gratuitos para o mundo - um mapa do mundo feito pelas pessoas e para as pessoas. Se algo estiver faltando no OSM, você pode adicioná-lo. Se algo estiver errado no OSM, você pode corrigi-lo. OSM é um bem digital comum que amplia muito o valor das informações adicionadas a ele. Site do OpenStreetMap Figura 3.1. OpenStreetMap Para obter mais informações sobre por que o OpenStreetMap existe e sua importância, veja: https://wiki.openstreetmap.org/wiki/FAQ#Why_OpenStreetMap.3F Você também pode ler: https://wiki.openstreetmap.org/wiki/About_OpenStreetMap De acordo com o OpenStreetMap, ele possui dados abertos, licenciados sob a Open Data Commons Open Database License (ODbL) (https://opendatacommons.org/licenses/odbl/) pela OpenStreetMap Foundation (OSMF) (https://osmfoundation.org/) e você é livre para copiar, distribuir, transmitir e adaptar nossos dados, desde que dê crédito ao OpenStreetMap e seus contribuidores. Se você alterar ou ampliar nossos dados, poderá distribuir o resultado apenas sob a mesma licença. Ao criar um mapa que usa dados OSM, é necessário dar crédito a contribuidores do © OpenStreetMap. Você pode ler mais sobre os direitos autorais e a licença do OpenStreetMap aqui: https://www.openstreetmap.org/copyright 4.7.1.2 Onde o OpenStreetMap é usado? Um dos principais valores do OpenStreetMap é a capacidade de coletar, editar e compartilhar dados de mapas que podem ser usados para muitos propósitos diferentes. Essa é a liberdade proporcionada pelo ObDL. Como o OpenStreetMap permite que os usuários utilizem seus dados com pouquíssimas restrições, há uma grande variedade de aplicativos, serviços e casos de uso que são construídos, estão sendo construídos ou podem ser construídos com o OpenStreetMap. O OpenStreetMap é usado para criar mapas, serviços de roteamento, educação e até mesmo para fins humanitários e de advocacy. Na verdade, existe o HOT (Humanitarian OpenStreetMap Team) ou a Equipe Humanitária OpenStreetMap (https://www.hotosm.org/), que é uma equipe internacional dedicada à ação humanitária e ao desenvolvimento da comunidade através do mapeamento aberto. O OpenStreetMap também é uma parte crucial de algumas comunidades de mapeamento de advocacy, como MapBeks (https://wiki.openstreetmap.org/wiki/MapBeks) - uma comunidade online de mapeamento LGBT, sediada nas Filipinas, que defende a inclusão e representação da diversidade voltada especificamente para lésbicas, gays, bissexuais, transgêneros, queer, intersexuais, etc. (LGBTQI +) no OpenStreetMap; e Mental Health AWHEREness (https://mentalhealthawhereness.com/) - uma plataforma e mapa on-line que mostram a localização de instalações e serviços de saúde mental que oferecem ajuda para pessoas nas Filipinas, organizada por voluntários. Uma lista de serviços baseados em OpenStreetMap pode ser encontrada em https://wiki.openstreetmap.org/wiki/List_of_OSM-based_services. 4.7.1.3 Como o OpenStreetMap pode ser usado no QGIS? Os dados OSM podem ser usados no QGIS de várias maneiras. O primeiro é usando camadas de tiles derivadas de OSM como mapas base. Na verdade, o QGIS vem com uma conexão a uma camada de tiles do OpenStreetMap por padrão. Você pode encontrar essa camada chamada OpenStreetMap na lista de tiles XYZ no painel do navegador. Você pode adicionar outros tiles derivados do OSM no QGIS, como aqueles encontrados na lista de fornecedores do Leaflet (https://leaflet-extras.github.io/leaflet-providers/preview/). Os tiles derivados do OSM fornecem aos usuários acesso livre e aberto a um mapa de base atualizado, uma vez que esses tiles são normalmente atualizados para corresponder ao estado atual do OSM. Você também pode carregar os recursos do OSM como dados vetoriais no QGIS. Isso pode ser feito baixando dados OSM de sites como GEOFABRIK (https://www.geofabrik.de/data/download.html). Os dados de feições OSM também podem ser carregados diretamente no QGIS usando o plugin QuickOSM. Este plugin utiliza a API Overpass (https://wiki.openstreetmap.org/wiki/Overpass_API) que permite aos usuários selecionar rapidamente um subconjunto de OSM dados usando consultas. Isso é possível porque as feições no OSM (https://wiki.openstreetmap.org/wiki/Mapfeatures) são marcados (tagueados) usando um sistema de tags livre (https://wiki.openstreetmap.org/wiki/Tags) que permite ao mapa incluir um número ilimitado de atributos que descrevem cada característica. Essas tags podem então ser usadas para consultar certas feições com base em seus atributos / tags. Normalmente, a comunidade OSM e as comunidades locais concordam com certas combinações de chave e valor adequadas para as tags mais comumente usadas, que funcionam como um padrão informal. Isso garante que os usuários de dados possam esperar consistência na marcação de características comuns, como estradas, edifícios, etc. No entanto, usuários sempre podem criar novas tags para melhorar o estilo do mapa ou análises de suporte que dependem de atributos ou tags dos recursos previamente não mapeados. 4.7.1.4 Exercício 1: Carregando dados OSM no QGIS usando o plugin QuickOSM Neste exercício, vamos carregar dados da rede rodoviária e localizações de cadeias de fast food do OSM que podem ser encontradas no Rio de Janeiro, capital usando o QuickOSM plugar. QuickOSM funciona consultando as tags (chaves e valores) dos recursos do OSM. Para obter mais informações sobre como usar a chave / valor no QuickOSM, vá para: https://wiki.openstreetmap.org/wiki/Mapfeatures. Carregue as camadas vetoriais br_rj_capital e br_rj_centro encontradas dentro do geopackage module3. Certifique-se de que a camada br_rj_capital está sobre a camada br_rj_centro, para que ela seja visível. Camadas do Rio de Janeiro carregadas no QGIS Figura 3.2. Camadas do Rio de Janeiro (capital e centro da cidade) carregadas no QGIS Certifique-se de que o plugin QuickOSM está instalado e ativado. Ele deve aparecer em Vetor  QuickOSM na barra de menus. Caso contrário, instale e ative o plug-in primeiro usando a caixa de diálogo Gerenciar e instalar plug-ins. Abra o plugin QuickOSM (Vetor  QuickOSM  QuickOSM). Uma caixa de diálogo deve abrir com cinco guias: Consulta rápida Permite ao usuário criar e executar uma consulta simples com uma combinação de valor-chave para carregar um subconjunto de dados de recursos OSM que atenda aos requisitos da consulta. Consulta Permite ao usuário executar consultas complexas usando a API Overpass. Possui um link para o aplicativo da web Overpass Turbo. Arquivo OSM: Permite ao usuário carregar dados de arquivos OSM brutos (por exemplo .pbf). Parâmetros: Permite ao usuário selecionar a API Overpass a ser usada. Sobre: Mostra informações sobre o plugin. Plugin QuickOSM Figura 3.3. Plugin QuickOSM Carregue todas as rodovias dentro da extensão da camada br_rj_centro. Chave: highway Valor: (em branco significa TODOS) Extensão da camada: br_rj_centro Avançado: Marque Nó, Caminho, Relação, Linhas, Multilinhas Carregar todas as estradas na extensão da camada br_rj_centro Figura 3.4. Carregue todas as rodovias na extensão da camada br_rj_centro Clique em Executar consulta. Basicamente, o que estamos dizendo ao QuickOSM é obter todos os recursos de linha ou multilinha marcados com uma chave (tag) de estrada e carregá-los no QGIS. Quando o plugin terminar de carregar a camada, seu mapa deverá ficar assim: Dados de estradas carregados do OSM Figura 3.5. Dados da rodovia carregados do OSM Observe que as camadas carregadas pelo QuickOSM são camadas temporárias. Você deve salvá-los como arquivos ou torná-los persistentes se precisar usá-los posteriormente. Se quiser ver a versão de consulta Overpass de sua Consulta Rápida, clique em Mostrar consulta e a consulta será aberta na guia Consulta. Você pode então editar sua consulta para torná-la mais complexa. A versão de consulta Overpass da consulta rápida para carregar rodovias Figura 3.6. A versão de consulta Overpass da consulta rápida para carregar rodovias Em seguida, vamos carregar todos os locais de restaurantes fast food na extensão da camada br_rj_capital. Abra o plug-in QuickOSM e coloque os seguintes parâmetros na guia Consulta rápida: Chave: amenity Valor: fast_food Extensão da camada: br_rj_capital Avançado: Marque Nó, Caminho, Relação, Pontos Carregar amenidades (pontos) marcados como fast_food na extensão da camada br_rj_capital Figura 3.7: Carregar amenidades (pontos) marcados como fast_food na extensão da camada br_rj_capital O resultado deve ser semelhante a abaixo: Locais de fast food carregados do OSM Figura 3.8: Locais de fast food carregados do OSM Observe que até mesmo dados fora dos polígonos são carregados. Isso ocorre porque estamos usando a extensão da camada como nossa caixa delimitadora. Se precisarmos apenas dos recursos dentro do polígono, podemos selecionar ou recortar esses recursos. O processo de como fazer isso será discutido em módulos futuros. 4.7.1.5 Perguntas do questionário Verdadeiro ou falso: Um recurso no OpenStreetMap só pode ter uma tag ou atributo. - *** Falso *** Você só pode adicionar pontos no OpenStreetMap. - *** Falso (você também pode adicionar outros recursos, como linhas e polígonos) *** O OpenStreetMap só pode ser usado como um mapa online. - *** Falso (você também pode baixar e usar os dados vetoriais criados pelo OpenStreetMap, como ao usá-los com o plugin QuickOSM) *** 4.7.2 Título da fase 2: Os dados da camada de assentamentos de alta resolução (HRSL) 4.7.2.1 O que é High Resolution Settlement Layer (HRSL), ou camada de assentamentos de alta resolução? De acordo com o Facebook e o Center for International Earth Science Information Network (CIESIN) da Universidade de Columbia, EUA, o High Resolution Settlement Layer (HRSL) fornece estimativas da população humana distribuição a uma resolução de 1 segundo de arco (aproximadamente 30 metros). Grades populacionais foram desenvolvidas para 140 países e podem ser acessadas no Humanitarian Data Exchange (https://data.humdata.org/search?organization=facebook&amp;q=%22High%20Resolution%20Population%20Density%20Maps%20%2B% 20Demographic% 20Estimates% 22). As estimativas da população são baseadas em dados do censo e imagens de satélite de alta resolução (0,5) da DigitalGlobe. Assentamentos e estruturas construídas pelo homem são identificados nas imagens pela aplicação de técnicas de visão computacional. Esses locais são então usados como um proxy para locais onde as pessoas vivem. Posteriormente, o CIESIN usou a alocação proporcional para distribuir os dados populacionais dos censos para as extensões de assentamento. Para a iteração atual do HRSL, sete mapas / conjuntos de dados para a distribuição de várias populações estão disponíveis: Densidade populacional geral Mulheres Homens Crianças (idades 0-5) Jovens (idades 15-24) Idosos (idades 60+) Mulheres em idade reprodutiva (idades 15-49) Dados HRSL em HDX Figura 3.9: Dados HRSL em HDX 4.7.2.2 Casos de uso do HRSL As grades populacionais fornecem informações precisas e de alta resolução tanto sobre o delineamento dos assentamentos em áreas urbanas e rurais quanto sobre o número de pessoas que vivem nelas. Essas informações são úteis para muitas áreas de pesquisa, como resposta a desastres e humanitária, planejamento e desenvolvimento de infraestrutura. Para ler mais sobre o HSRL, você pode ir para: Como trabalhar com dados de densidade populacional do Facebook - [http://www.statsmapsnpix.com/2021/01/how-to-work-with-facebook-population.html] (http://www.statsmapsnpix.com/2021/01/how-to-work-with-facebook-population.html) População aberta e desafios abertos - https://engineering.fb.com/2016/11/15/core-data/open-popul-datasets-and-open-challenge/ Conectando o mundo com mapas melhores - https://engineering.fb.com/2016/02/21/core-data/connecting-the-world-with-better-maps/ Mapeando a população mundial, um prédio por vez - https://arxiv.org/abs/1712.05839 4.7.2.3 Exercício 2: Carregando os dados HRSL no QGIS Os dados HRSL encontrados no HDX vêm em formato GeoTIFF (raster) e CSV (vetor). Os CSV são localizações de pontos com valores de população correspondentes. Para este exercício, um subconjunto de dados para seu país já foi preparado, mas você sempre pode baixar o conjunto de dados inteiro ou mesmo outros conjuntos de dados para experimentar. Carregue o arquivo raster hrsl_rj_capital_populacao no QGIS. O HRSL para Rio de Janeiro, capital Figura 3.10: O HRSL para Rio de Janeiro, capital Verifique as Propriedades da camada. Você também pode editar a Simbologia e o Estilo do raster (será discutido em um módulo futuro) 4.7.2.4 Questões do questionário Quais conjuntos de dados foram usados para obter a localização dos assentamentos e alocar a população para estes assentamentos? Como o HRSL conseguiu os locais dos assentamentos? Como a população de uma área foi alocada para os assentamentos? 4.7.3 Se você quiser ir além: 4.7.3.1 Use a API Overpass para criar uma consulta no OSM A API Overpass (https://wiki.openstreetmap.org/wiki/Overpass_API), anteriormente conhecido como OSM Server Side Scripting, ou OSM3S antes de 2011, é uma API somente leitura que fornece partes personalizadas selecionadas dos dados do mapa OSM. Ao contrário da API principal, que é otimizada para edição, a API Overpass é otimizada para consumidores de dados para obter um pequeno subconjunto dos cerca de 10 milhões de elementos no OpenStreetMap. Esses subconjuntos podem ser selecionados por critérios de pesquisa, como localização, tipo de objetos, propriedades de tag, proximidade ou combinações deles. A API Overpass serve como back-end para outros serviços baseados em OSM, como o plugin QuickOSM. O uso de uma consulta Overpass permite criar uma seleção de recursos mais complexa no QuickOSM. Por exemplo, vamos carregar todos os fast foods novamente dentro da extensão de br_rj_capital, mas desta vez vamos apenas pegar as franquias do Subway. Se você observar a tabela de atributos da camada de fast food, notará que ela possui um campo name. Os campos na tabela de atributos de dados carregados do OSM correspondem às chaves de tag, portanto, se quisermos apenas selecionar todos os ramos do Subway fast food, precisamos adicionar um filtro que seleciona um recurso se ele tiver um chave:valor de name:Subway. Este filtro pode ser facilmente adicionado na API Overpass. Abra o plugin QuickOSM e insira os parâmetros que usamos para consultar todos os fast foods. Parâmetros QuickOSM para carregar fast food no Rio de Janeiro Consulta rápida para carregar todas as comodidades marcadas como fast food Clique em Mostrar consulta. Versão Overpass da consulta Consulta Overpass para carregar todas as comodidades marcadas como fast food Edite a consulta e adicione a linha &lt;has-kv k=name v=Subway/&gt; após cada linha &lt;has-kv k=amenity v=fast_food/&gt;. Consulta Overpass para carregar fast foods Subway Consulta Overpass para carregar fast foods Subway Clique em Executar consulta. Isso deve carregar apenas as amenidades marcadas como fast_food com o nome Subway. O nome da camada será OsmQuery. Amenidades marcadas como fast food cujo nome é Subway carregado do OSM Amenidades marcadas como fast food cujo nome é Subway carregado do OSM Experimente com outras redes de fast food. Você também pode testar e criar consultas Overpass no Overpass turbo (https://wiki.openstreetmap.org/wiki/Overpass_turbo) que é uma ferramenta web de mineração de dados para OpenStreetMap. 4.7.4 Para praticar suas novas habilidades, tente 4.7.4.1 Carregar mais recursos do OSM usando o plug-in QuickOSM Tente carregar outros recursos (pontos, linhas, polígonos) como hospitais, escolas, etc. usando o plugin QuickOSM. 4.7.5 Dicas Se você não conseguir encontrar a feição que deseja ou precisa no OpenStreetMap, você pode adicionar ou editar feições no próprio mapa. Inscreva-se em https://www.openstreetmap.org/ e comece a contribuir! "],["camadas-de-estilo.html", "Capitulo 5 Camadas de estilo 5.1 Introdução pedagógica 5.2 Ferramentas e recursos necessários 5.3 Pré-requisitos 5.4 Recursos adicionais 5.5 Introdução temática 5.6 Conteúdo principal", " Capitulo 5 Camadas de estilo Autor: Ketty 5.1 Introdução pedagógica Este módulo foi desenvolvido para te ensinar como mudar a aparência visual de um mapa selecionando símbolos apropriados, cores de mapa e aplicando efeitos apropriados. Ao final do módulo, você deverá conhecer conceitos como simbologia e estilos de mapas. Além disso, você aprenderá as seguintes habilidades; camadas de estilo simbologia básica de raster e vetor e como aplicá-los a uma camada modos de mesclagem (blending) e efeitos de desenho usando expressões para executar uma operação espacial 5.2 Ferramentas e recursos necessários Computador Conexão com a Internet QGIS 3.16 ou posterior Camada do limite administrativo do Rio de Janeiro (dentro de module4.gpkg) Clínicas do Rio de Janeiro (dentro de module4.gpkg) Camada de assentamentos de alta resolução do Rio de Janeiro 5.3 Pré-requisitos Conhecimento básico de operação de um computador Compreensão razoável de todos os módulos anteriores 5.4 Recursos adicionais Simbologia QGIS - [https://docs.qgis.org/3.16/en/docs/training_manual/basic_map/symbology.html ] (https://docs.qgis.org/3.16/en/docs/training_manual/basic_map/symbology.html) Repositório de compartilhamento de estilo - [https://www.gislounge.com/qgis-style-sharing-repository/ ] (https://www.gislounge.com/qgis-style-sharing-repository/) Estilos - https://plugins.qgis.org/styles/ Style Hub - https://style-hub.github.io/ Hillshade no QGIS - [https://bnhr.xyz/2019/02/08/mapping-icebergs-in-qgis.html] (https://bnhr.xyz/2019/02/08/mapping-icebergs-in-qgis.html) Mapeando icebergs no QGIS - https://bnhr.xyz/2019/02/08/mapping-icebergs-in-qgis.html 5.5 Introdução temática Vamos começar com um exemplo: Vamos imaginar que você está em uma nova cidade, talvez como turista, a lazer ou a negócios. A cidade tem uma gama de locais que você precisa ver, incluindo museus, cafés, praias, monumentos, lojas culturais e mercados. Em seguida, você recebe um mapa de papel da cidade que mostra a localização dos pontos de todos os lugares imperdíveis da cidade. Os pontos turísticos estão todos marcados com pontos vermelhos. Em sua opinião, este mapa facilitaria seu passeio pela nova cidade? Eu imaginaria que não. Por isso é sempre importante fazer um Mapa com diferentes símbolos e cores. O que você vê em seu mapa depois de aplicar conceitos de estilo é uma representação visual dinâmica dos dados com os quais você está trabalhando. 5.5.1 Painéis, guias e tipos de renderização principais 5.5.1.1 Painel de estilo da camada Este painel é um atalho para alguns dos recursos da caixa de diálogo de propriedades da camada. Na verdade, ele oferece uma maneira rápida e prática de definir a renderização e o comportamento de uma camada e de visualizar seus efeitos sem abrir a caixa de diálogo de propriedades da camada. Além de evitar que você tenha que lidar com o janela das propriedades da camada, ele também evita que você congestione a tela com diálogos de recursos, visto que incorpora a maioria deles (seletor de cores, propriedades de efeitos, edição de regras, substituição de rótulos): por exemplo, clicar nos botões de cores dentro do painel de estilo da camada faz com que a caixa de diálogo do seletor de cores seja aberta dentro do próprio painel de estilo da camada, e não como uma caixa de diálogo separada. Em uma lista suspensa de camadas atuais no painel de camadas, selecione um item e: defina sua simbologia, transparência e histograma no caso de uma camada raster. Essas opções são as mesmas disponíveis na caixa de diálogo Propriedades do raster (https://docs.qgis.org/3.16/en/docs/user_manual/working_with_raster/raster_properties.html#raster-properties-dialog). Acesse o Diálogo de Propriedades Raster clicando duas vezes em Camada Raster-&gt; Geral defina sua simbologia e rótulos. Essas opções são as mesmas disponíveis na caixa de diálogo Propriedades do vetor (https://docs.qgis.org/3.16/en/docs/user_manual/working_with_vector/vector_properties.html#vector-properties-dialog). Acesse a caixa de diálogo Propriedades do vetor clicando duas vezes em Camada do vetor-&gt; Geral siga todo o histórico de alterações que você aplicou ao estilo da camada no projeto atual; você pode, portanto, cancelar ou restaurar qualquer estado selecionando-o na lista e clicando em Aplicar. Outro recurso poderoso deste painel é a caixa de seleção Atualização ao vivo. Marque-o e suas alterações serão automaticamente renderizadas na tela do mapa conforme você avança. Assim, você não precisa mais clicar no botão Aplicar. Para ativar o painel, clique em Visão -&gt; Painéis e, a seguir, marque Estilização de camadas. alt_text Figura 4.1: Painel de estilo da camada 5.5.1.2 Guia Simbologia nas Propriedades das camadas Para acessar a guia Simbologia, clique duas vezes na camada para abrir as Propriedades de Camada -&gt; Clique em Simbologia Aqui, você pode especificar as configurações como o tipo de renderização, banda, valores mínimos e máximos, renderização de cores e reamostragem (resampling). Nas capturas de tela abaixo, você pode ver as guias de simbologia para conjuntos de dados vetoriais e raster, respectivamente; alt_text alt_text Figura 4.2: Guia de simbologia para dados vetoriais e raster, respectivamente 5.5.1.3 Renderização raster: renderização de banda QGIS oferece quatro tipos diferentes de renderização. A escolha do renderizador depende do tipo de dados. O tipo de renderização padrão é a cor cinza de banda única. Você terá que alterá-lo para o tipo apropriado com base no tipo de dados. Cores multibanda (https://docs.qgis.org/3.16/en/docs/user_manual/working_with_raster/raster_properties.html#multiband-color) - se o arquivo vier com várias bandas (por exemplo, uma imagem de satélite com várias bandas). Valores paletados / únicos (https://docs.qgis.org/3.16/en/docs/user_manual/working_with_raster/raster_properties.html#paletted) - para arquivos de banda única que vêm com uma paleta indexada (por exemplo, um mapa topográfico digital), ou para uso geral de paletas para renderizar camadas raster. Faixa única de cinzas (https://docs.qgis.org/3.16/en/docs/user_manual/working_with_raster/raster_properties.html#singleband-gray) - a imagem será renderizada como cinza (uma banda só dela). O QGIS escolherá este renderizador se o arquivo não for multibanda nem paletizado (por exemplo, um mapa de relevo sombreado). Banda simples falsa-cor (https://docs.qgis.org/3.16/en/docs/user_manual/working_with_raster/raster_properties.html#label-colormaptab) - este renderizador pode ser usado para arquivos com uma paleta contínua ou mapa de cores (por exemplo, um mapa de elevação). Hillshade ((https://docs.qgis.org/3.16/en/docs/user_manual/working_with_raster/raster_properties.html#hillshade-renderer) - Cria hillshade (sombras de colina) a partir de uma banda. 5.5.1.4 Renderização de vetor Quando você carrega camadas de dados espaciais no QGIS Desktop, elas são estilizadas com uma renderização de símbolo único aleatória. Para alterar isso, clique em Camada-&gt; Propriedades-&gt; Estilo. Existem várias opções de renderização disponíveis no menu no canto superior esquerdo: Símbolo único - esta é a renderização padrão em que um único símbolo é aplicado a todas feições em uma camada. Categorizado - permite que você escolha um campo de atributo categórico para estilizar a camada. Escolha o campo e clique em Classificar e o QGIS aplicará um símbolo diferente a cada valor único no campo. Você também pode usar o botão Definir expressão de coluna para aprimorar o estilo com uma expressão SQL. Graduado - permite que você classifique os dados por um atributo de campo numérico em categorias discretas. Você pode especificar os parâmetros da classificação (tipo de classificação e número de classes) e pode usar o botão Definir expressão de coluna para aprimorar o estilo com uma expressão SQL. Com base em regras - use para criar estilos baseados em regras personalizadas. As regras serão baseadas em expressões SQL. Deslocamento de pontos - se você tiver uma camada de pontos com pontos empilhados, esta opção pode ser usada para deslocar os pontos para que fiquem todos visíveis. Polígonos invertidos - este é um novo renderizador que permite que uma camada de polígonos seja convertida em uma máscara. Por exemplo, um polígono de limite de cidade usado com este renderizador se tornaria uma máscara ao redor da cidade. Também permite o uso de renderizadores categorizados, graduados e baseados em regras e expressões SQL. 5.6 Conteúdo principal 5.6.1 Fase 1: Raster básico e simbologia vetorial A simbologia de dados vetoriais pode variar de acordo com a transparência, cor, rotação e tamanho. 5.6.1.1 Conteúdo Propriedades da camada e menu de simbologia Tipos de renderização vetorial Tipos de renderização raster (renderização de banda) 5.6.1.2 Exemplo 1: Renderização vetorial Para demonstrar este exemplo, nós usaremos dois conjuntos de dados de exemplo; 1. Clínicas (equipamentos de saúde, identificados no OpenStreetMap com a tag clinics) e 2. Limite administrativo da cidade do Rio de Janeiro Adicione as duas camadas vetoriais ao QGIS; Clique no botão Adicionar camada vetorial ou use o painel do navegador. É assim que eles são renderizados por padrão. Você notará que temos uma camada de polígono e uma camada de pontos. O próximo passo é mudar a simbologia de cada um deles. As cores de preenchimento podem não ser as mesmas do que as você está vendo aqui, mas isso não é um problema porque o QGIS seleciona cores aleatoriamente quando você adiciona uma camada. Renderização padrão Figura 4.3: Clique duas vezes na camada vetorial de polígono, que também é a camada de limite administrativo da cidade do Rio de Janeiro Selecione a Aba Simbologia no menu que aparece Altere a Cor do preenchimento para Preenchimento transparente. Dica: Clique na seta suspensa em Cor do preenchimento O resultado deve ser o seguinte. Você pode notar que a opção sem preenchimento não tem cor Sem renderização de preenchimento para o polígono Figura 4.4: Polígono sem preenchimento A próxima etapa é simbolizar a camada de ponto que também é a camada rj_clinics Clique duas vezes na camada rj_clinics para abrir o diálogo Propriedades da camada. Altere o tipo de renderização de Símbolo Único para Categorizado, selecione Valor como amenity. O valor representa o campo de interesse. Especifique o símbolo e a escala de cor. Em seguida, clique em classificar. Diálogo de Propriedades da Camada Figura 4.5: Diálogo de Propriedades da Camada O mapa resultante deve ser o seguinte Renderização vetorial final Figura 4.6: Renderização vetorial final Lembre-se de organizar as camadas no Painel de camadas de forma que a camada poligonal fique abaixo da camada de pontos. Isso torna a camada de pontos visível. 5.6.1.3 Exemplo 2: Renderização raster Clique duas vezes na camada raster, que também é a camada de densidade populacional. Isso também significa que ela é um conjunto de dados normalizado e, portanto, pode ser visualizado como um mapa coroplético. Selecione a guia de simbologia no menu que aparece Altere o modo de estilo para Banda simples falsa-cor Menu de simbologia Figura 4.7: Menu de simbologia Especifique a interpolação, escala de cor e modo. Clique em classificar. O resultado é um mapa coroplético mostrando a densidade populacional na cidade do Rio de Janeiro. Densidade populacional da cidade do Rio de Janeiro Figura 4.8: Densidade populacional da cidade do Rio de Janeiro Amplie para ver o novo mapa em maior detalhe Mapa ampliado Figura 4.9: Mapa ampliado Como alternativa, use o painel Estilização de camadas. 5.6.1.4 Perguntas do questionário O que é simbologia de camada? Quais dos tipos de renderização abaixo são aplicáveis para dados vetoriais? Quais são os tipos de renderização raster? 5.6.1.5 Respostas do questionário elemento gráfico representado como um marcador, traço ou preenchimento um ponteiro para os dados originais um repositório de diferentes esquemas de cores renderizador de símbolo único renderizador sem símbolos renderizador categorizado renderizador graduado símbolo proporcional renderizador de cluster de ponto pseudocolor de banda única cinza de banda única paletted cor multibanda 5.6.2 Fase 2: modos de mesclagem e efeitos de desenho 5.6.2.1 Conteúdo Alterando estruturas de símbolos Alterando efeitos de desenho e modos de mesclagem (blending) Visualização impactante de dados 5.6.2.2 Tutorial Depois de carregar ambas as camadas no QGIS, a tela terá a aparência abaixo. Você notará que ambas as camadas têm um estilo simples. Este tutorial explicará como alterar efeitos de desenho e modos de mesclagem para uma melhor visualização. A área de trabalho inicial esperada Figura 4.10: A área de trabalho inicial esperada Abra a janela Propriedades da camada e clique no item de menu Simbologia para a camada de limites administrativos. Dica: faça isso clicando duas vezes na camada ou use o painel de estilo da camada. Ative o painel de estilo da camada clicando em: Visão -&gt; Painéis -&gt; Estilo da camada. Na parte inferior do menu Simbologia, há uma caixa de seleção para efeitos do Desenho. Vamos habilitar isso e, em seguida, clicar no botão personalizar efeitos à sua direita: Janela Propriedades da camada e menu de simbologia Figura 4.11: Janela Propriedades da camada e menu Simbologia Uma nova caixa de diálogo Propriedades de efeitos é aberta Caixa de diálogo Propriedades de efeitos Figura 4.12: Diálogo de propriedades de efeitos Você pode ver que atualmente o único efeito listado é um efeito Fonte (Source). Os efeitos Fonte não são particularmente interessantes - tudo o que fazem é desenhar a camada original inalterada. Mude para um efeito de Desfoque clicando na caixa de combinação Tipo de efeito e selecionando Desfoque. Você pode então experimentar com os parâmetros de desfoque. Selecione o tipo de efeito como desfoque Figura 4.13: Selecione o tipo de efeito como desfoque Aplique as configurações e você verá que a camada de polígono agora está desfocada. Agora estamos chegando a algum lugar! Camada desfocada Figura 4.14: Camada desfocada Vamos usar a caixa de diálogo Propriedades dos efeitos novamente. Agora vamos tentar algo um pouco mais avançado. Em vez de apenas um único efeito, é possível encadear vários efeitos para criar resultados diferentes. Vamos fazer uma sombra projetada tradicional adicionando um efeito de Sombra projetada sob o efeito Fonte. Diálogo de propriedades de efeitos Figura 4.15: Diálogo de propriedades de efeitos Os efeitos são desenhados de cima para baixo, então a sombra aparecerá abaixo dos polígonos de origem Efeito de sombra projetada Figura 4.16: Efeito de sombra projetada Você pode empilhar quantos efeitos desejar. Por exemplo, um brilho interno sobre um efeito fonte com uma sombra projetada por baixo de tudo. Experimente! Em geral, lembre-se de que os efeitos podem ser aplicados a uma camada inteira ou às camadas de símbolo individuais para feições dentro de uma camada. Basicamente, as possibilidades são quase infinitas! Os plug-ins Python também podem estender isso ainda mais implementando efeitos adicionais. Para mais exemplos sobre o que você pode fazer com Modos de mescla e Efeitos de desenho no QGIS, você pode verificar: * Hillshade no QGIS - [https://bnhr.xyz/2019/02/08/mapping-icebergs-in-qgis. html] (https://bnhr.xyz/2019/02/08/mapping-icebergs-in-qgis.html) * Mapeando icebergs no QGIS - [https://bnhr.xyz/2019/02/08/mapping- icebergs-in-qgis.html] (https://bnhr.xyz/2019/02/08/mapping-icebergs-in-qgis.html) 5.6.3 Fase 3: Substituições definidas por dados e geradores de geometria 5.6.3.1 Conteúdo Executar uma operação espacial dentro da simbologia da camada 5.6.3.2 Tutorial Um gerador de geometria é um tipo de camada símbolo que permite usar código para criar novas geometrias a partir de feições existentes e usar as novas geometrias geradas como símbolos que podem, por sua vez, ter estilos aplicados. Este é um recurso poderoso e é melhor explicado com um exemplo. Você pode usar a simbologia do gerador de geometria com todos os tipos de camadas (pontos, linhas e polígonos). O símbolo resultante depende diretamente do tipo de camada. Muito resumidamente, a simbologia do gerador de geometria permite que você execute algumas operações espaciais dentro da própria simbologia. Por exemplo, você pode executar uma operação espacial de centróide em uma camada de polígonos sem criar uma outras camada de pontos. Além disso, você ainda tem todas as opções de estilo para alterar a aparência do símbolo resultante. Aqui está um tutorial de exemplo: Clique duas vezes na camada de limite administrativo Clique em Preenchimento simples e altere o tipo de camada de símbolo para Gerador de geometria. Antes de começar a escrever a consulta espacial, escolha o Tipo de geometria na saída. Neste exemplo, vamos criar centróides para cada recurso, então altere o Tipo de geometria para Ponto / Multiponto. Operação centróide na camada limite administrativa Figura 4.17: Operação centróide na camada limite administrativa Ao clicar em OK, você verá que o limite da camada administrativa é renderizado como uma camada de ponto. Acabamos de executar uma operação espacial dentro da própria simbologia da camada. Camada de pontos Figura 4.18: Camada de pontos Observe que uma maneira alternativa e mais fácil de escrever consultas espaciais é usando o diálogo Expressões. Clique no botão de expressões para abrir a caixa de diálogo de expressão. Aqui você terá acesso a uma extensa referência de funções. Você pode pesquisar uma função pelo nome. Por exemplo, digite centróide na barra de pesquisa. Com a simbologia do gerador de geometria, você pode realmente ir além da simbologia normal. Se você quiser ir mais longe, escreva uma consulta espacial para calcular um buffer em torno da camada de pontos, linhas ou polígonos. 5.6.3.3 ** Perguntas do questionário ** 1.N / A 5.6.3.4 ** Respostas do questionário ** 1.N / A "],["fazendo-mapas.html", "Capitulo 6 Fazendo Mapas 6.1 Introdução Pedagógica 6.2 Ferramentas e recursos necessários 6.3 Pré-requisitos 6.4 Recursos adicionais 6.5 Introdução temática 6.6 Conteúdo principal", " Capitulo 6 Fazendo Mapas Autor: Ketty 6.1 Introdução Pedagógica Este módulo irá fornecer a você uma visão geral das etapas frequentemente necessárias para elaborar um mapa no QGIS. No final do módulo, os participantes conhecerão os seguintes conceitos: Tela do mapa e camadas relacionadas O layout de impressão e o layout de impressão Elementos e propriedades do mapa Além disso, você terá aprendido as seguintes habilidades; Usando o layout de impressão para fazer um mapa Adicionando elementos do mapa ao mapa Gerenciando layouts de impressão diferentes 6.2 Ferramentas e recursos necessários Computador Acesso à Internet QGIS 3.16 ou posterior Camada de limite administrativo rj_capital (dentro de module5.gpkg) rj_clinics (dentro de module5.gpkg) Unidades Federativas do Brasil, br_ufs (dentro de module5.gpkg) RJ High Resolution Settlement Layer 6.3 Pré-requisitos Conhecimento básico de como operar um computador Uma compreensão de todos os módulos anteriores 6.4 Recursos adicionais QGIS Map LayOut - https://docs.qgis.org/3.16/en/ docs/training_manual/map_layout/map_layout.html Modelos de layout - https://layout-hub.github.io/ Gerenciador de estilos - https://docs.qgis.org/3.16/en/docs/user_manual/style_library/style_manager.html Biblioteca de estilos - https://docs.qgis.org/3.16/en/docs/user_manual/style_library/index.html 6.5 Introdução temática Vamos começar com um exemplo: Para fazer um mapa, você precisará de um tópico que gostaria de entender melhor, por exemplo Distribuição espacial de clínicas (equipamentos de saúde) no Rio de Janeiro. Você notará que o tópico fornece um tema para explorar e a localização geográfica. Munido com essas informações e os dados relevantes que permitem que você explore mais a questão, você pode prosseguir para elaborar um mapa. 6.5.1 Detalhamento dos conceitos Este módulo enfocará os seguintes conceitos-chave de criação de mapas; tela do mapa e camadas relacionadas, o layout de impressão e elementos e propriedades do mapa. Primeiro, aqui estão as definições curtas de cada um: a tela do mapa e camadas relacionadas: é provavelmente o widget mais importante no QGIS porque mostra o mapa composto de camadas sobrepostas e permite a interação com o mapa e as camadas. Isso é abordado no Módulo 0: Introdução ao QGIS o layout de impressão: O layout de impressão fornece layout e recursos de impressão. Ele permite que você adicione elementos como o mapa, rótulos de texto, imagens, legendas, barras de escala, formas básicas, setas, tabelas de atributos e quadros HTML. Com o layout de impressão, você pode criar belos mapas e atlas que podem ser impressos ou salvos como um arquivo PDF, uma imagem ou um arquivo SVG. Esta é uma maneira poderosa de compartilhar informações geográficas produzidas com QGIS que podem ser incluídas em relatórios ou publicadas. Você pode salvar o layout como um modelo e carregá-lo novamente em outra sessão. Finalmente, a geração de vários mapas com base em um modelo pode ser feita por meio do gerador de atlas. A imagem abaixo mostra o layout de impressão e a interface do layout de impressão. Esta interface é aberta quando você abre um novo layout de impressão. Layout de impressão Figura 5.1: Layout de impressão elementos e propriedades do mapa: os mapas contêm muitas informações. A maioria dos mapas terá as cinco seguintes coisas: um título, uma legenda, uma grade, uma rosa dos ventos para indicar a direção e uma escala. O título informa o que está sendo representado no mapa. 6.6 Conteúdo principal 6.6.1 Título da fase 1: Exportando a tela do mapa Neste tutorial, mostraremos duas maneiras de Exportar a tela do mapa para o layout de impressão do QGIS. O primeiro método é direto, enquanto o segundo método explora os recursos mais avançados fornecidos pelo layout de impressão. 6.6.1.1 Primeiro método: Exportar a tela do mapa sem o layout de impressão As camadas de dados já devem estar adicionadas à tela do QGIS. As camadas podem então ser estilizadas para comunicar informações em seus dados. Adicione as decorações do mapa clicando em Exibir  Decorações. Selecione sua decoração de mapa preferida. Por exemplo, você pode adicionar o rótulo de título, barra de escala e rótulo de direitos autorais. Para cada decoração, você terá que especificar as configurações em uma caixa de diálogo. A etapa final é exportar o mapa para o formato de imagem ou PDF. Para fazer isso, clique em Projeto  Importar/Exportar e selecione o formato de exportação de sua preferência. A caixa de diálogo de exportação abaixo deve aparecer. Exportando a tela do mapa como imagem Exportando o mapa Figura 5.2: Exportando o mapa Clique em Salvar. O mapa na tela do QGIS será salvo como um documento PDF ou imagem. Navegue até o local onde o arquivo foi salvo e agora você pode imprimir ou compartilhar o mapa. Tela do mapa exportada como imagem Figura 5.3: Tela do mapa exportada como imagem 6.6.1.2 Segundo método: Exportar a tela do mapa para a impressão layout Neste tutorial, faremos um mapa mostrando a 1.) localização dos centros de saúde e 2.) densidade populacional do Rio de Janeiro. As camadas de dados já devem ser adicionadas à tela do QGIS. As camadas podem então ser estilizadas para comunicar as informações dos seus dados. Criando novo layout de impressão Figura 5.4: Criando novo layout de impressão A tela do mapa agora pode ser exportada para o layout de impressão. Clique no botão novo layout de impressão . Isso pode ser acessado através da barra de ferramentas. Como alternative, acesse usando a barra de menu Projetos. Uma caixa de diálogo de título será aberta, solicitando que você digite o título do Layout de impressão. Digite Rio de Janeiro e clique em OK. Nomeando o layout de impressão Figura 5.5: Nomeando o layout de impressão O layout de impressão será aberto A janela Layout de impressão Figura 5.6: A janela Layout de impressão Você notará que a tela do layout de impressão está vazia. Para adicionar o mapa estilizado da tela QGIS, clique no botão Adicionar novo mapa ao layout, clique com o botão esquerdo do mouse e desenhe um retângulo no espaço em branco no centro do layout de impressão. O mapa será adicionado. Você acabou de adicionar um mapa para o layout de impressão. Agora é possível adicionar todos os outros elementos do mapa, como título, legenda, grades, etc. Adicionar mapa ao layout de impressão Figura 5.7: Adicionar mapa a Layout de impressão 6.6.1.3 Perguntas do questionário O que é a tela do mapa QGIS? (caixas de seleção) Qual é a utilidade do layout de impressão? (caixas de seleção) Qual dos seguintes não é um elemento do mapa? (botão de radio) 6.6.1.4 Respostas do questionário mostra o mapa composto de camadas de mapa sobrepostas permite interação com o mapa e camadas um widget para fazer mapas fornece layout crescente e recursos de impressão permite adicionar elementos do mapa lidar com a exportação e impressão de mapas Título Escala Legenda Cores e designs 6.6.2 Título da fase 2: Adicionando e editando elementos do mapa ao layout de impressão 6.6.2.1 Conteúdo/Tutorial Agora que o mapa estilizado foi adicionado ao layout de impressão, é hora de adicionar elementos importantes como o título, escala, legenda, grade, metadados etc. para o layout de impressão. A maioria dos botões está localizada à esquerda do layout de impressão. Clique no botão Adicionar rótulo , mantenha pressionado o botão esquerdo do mouse e desenhe um retângulo onde deseja colocar o título do mapa. Digite o título no menu Propriedades principais no lado direito do layout de impressão. As propriedades da fonte podem ser alteradas no item de menu Aparência. Adicione o título do mapa Figura 5.8: Adicione o título do mapa Em seguida, adicionaremos a legenda e a escala. Uma declaração de atribuição de dados pode ser adicionada usando o botão Adicionar rótulo. Clique no botão de Adicionar rótulo na barra da esquerda. Siga as mesmas etapas do item 1. acima para adicionar esse elemento ao layout de impressão. Você pode adicionar outros elementos do mapa, mas tome cuidado para que o mapa não fique muito confuso. Barra de escala Figura 5.9: Adicionar barra de escala ao mapa Legenda Figura 5.9: Adicionar legenda ao mapa Atribuição Figura 5.10: Adicionar atribuição ao mapa Se o layout do mapa estiver satisfatório, você já pode exportar o mapa um PDF, PNG, JPEG ou SVG, pronto para impressão. Lembre-se também de salvar o layout. Todas as funções de salvamento podem ser acessadas através do menu layout. Salve o mapa como uma imagem usando Layout  Exportar como imagem ou clicando no botão Exportar como imagem . O QGIS irá perguntar a você em qual arquivo salvar o mapa, bem como os parâmetros da imagem. Parâmetros de imagem Figura 5.10: Adicionar atribuição ao mapa Mapa exportado como img. Figura 5.11 : Mapa exportado como imagem 6.6.2.2 Perguntas do questionário Em qual das seguintes guias você pode alterar as propriedades dos elementos do mapa? (botão de opção) Qual é a diferença entre o layout do mapa e o layout de impressão? Como você pode adicionar texto de atribuição ao layout do mapa? 6.6.2.3 Respostas do questionário Composição Propriedades do item Geração de Atlas O layout do mapa permite que você adicione mapas da tela do mapa, enquanto o layout de impressão permite que você componha seu mapa Adicione uma caixa de título e digite o texto de atribuição. Observe que a caixa de título permite que você adicione todas as formas de texto ao seu mapa. 6.6.3 Título da Fase 3: Automatizando a criação de mapas usando os recursos do Atlas 6.6.3.1 Conteúdo/Tutorial Se sua organização publica mapas impressos ou on-line, geralmente você precisa criar muitos mapas com o mesmo modelo - geralmente um para cada unidade administrativa ou região de interesse. Criar esses mapas manualmente pode levar muito tempo e, se você quiser atualizá-los regularmente, isso pode se tornar uma tarefa árdua. O QGIS tem uma ferramenta chamada Atlas que pode ajudá-lo a criar um modelo de mapa e publicar facilmente um grande número de mapas para diferentes regiões geográficas. Vamos tomar as diferentes Unidades Federativas do Brasil como exemplo: Camada de cobertura Figura 5.12: Camada de cobertura Tabela de atributos Figura 5.13: Tabela de atributos Esta camada servirá como camada de cobertura externa, o que significa que o Atlas QGIS irá cirar um mapa para cada uma das feições dessa camada de cobertura. Ao todo, serão gerados 27 mapas. Abra ou crie um novo Layout de impressão e adicione um mapa. Layout de impressão do Atlas Figura 5.14: Layout de impressão do Atlas No painel direito do Layout de impressão, certifique-se de selecionar o menu Atlas e marque a caixa Gerar um atlas. Você também pode abrir as Configurações do Atlas usando o botão Configurações do Atlas na barra de ferramentas do Atlas. Geração Atlas Figura 5.15: Geração Atlas A próxima etapa é escolher a camada de cobertura; A camada de cobertura é a camada de índice usada para criar cada página. Um mapa/página para o Atlas será gerada para cada feição na camada de cobertura. No nosso caso, usar a camada de cobertura br_ufs criará um mapa para cada uma das 27 UFs. O QGIS Atlas altera dinamicamente a extensão da visualização para cada recurso na camada de cobertura. Você pode optar por tornar a camada de cobertura oculta nos mapas que você cria (ou seja, a camada de cobertura não será visível no Layout de Impressão) e selecionar como nomear cada página do Atlas. Você também pode realizar alguma filtragem e classificação da camada de cobertura, se necessário. Para a Saída, você pode optar por ter um único arquivo como saída marcando a caixa de seleção Exportar arquivo único quando possível. Se desmarcado, você gerará um arquivo diferente por mapa. Selecionar camada de cobertura Figura 5.16: Selecionar camada de cobertura Agora que definimos a camada de cobertura, devemos dizer ao Layout de impressão para usar o atlas para controlar a extensão dos mapas (área visível no mapa imprimível) que iremos gerar. Na guia Propriedades do item, marque a caixa para Controlado pelo Atlas Controlado pelo Atlas Figura 5.17: Certifique-se de que a extensão do mapa é controlado pelo Atlas Para visualizar seu Atlas, clique no botão Visualizar Atlas na barra de ferramentas Atlas. Isso mostrará os 27 mapas que você gerou. Use a barra de ferramentas do Atlas para navegar pelos mapas do Atlas. Atlas Preview Figura 5.18: Atlas Preview Você pode exportar os mapas do Atlas através do botão Exportar Atlas como imagens ou PDFs. Selecione Exportar Atlas como imagem. Você deve gerar 27 mapas, e cada mapa mostrará a extensão de uma das UFs. Resultado do Atlas Figura 5.18: Resultado do Atlas DICA: Para este exemplo, mapeamos apenas a camada de cobertura. O poder do Atlas é quando mapeamos várias camadas. Por exemplo, temos as clínicas, rede de estradas e dados de densidade populacional para todo o país carregados como camadas no QGIS. Em seguida, gostaríamos de criar um mapa para cada uma das UFs mostrando essas mesmas camadas. Usar o Atlas exigiria que criássemos apenas um modelo de layout e deixássemos o Atlas lidar com a geração dos outros mapas com base na camada de cobertura que usamos. DICA: Você pode usar as expressões QGIS e substituições definidas por dados para definir os outros elementos do mapa em seu Atlas para que eles também mudem dinamicamente, dependendo da feição da camada de cobertura que está sendo mapeado. Por exemplo, você pode usar uma expressão QGIS chamando o valor do campo NAME_1 em seu rótulo para que ele mude dinamicamente para exibir o valor de NAME_1 para a feição atual que está sendo mapeada. Para obter mais informações sobre o Atlas QGIS, consulte: https://www.youtube.com/watch?v=tOnMJBUvEjY. 6.6.3.2 Perguntas do questionário n/a 6.6.3.3 Respostas do questionário n/a "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
